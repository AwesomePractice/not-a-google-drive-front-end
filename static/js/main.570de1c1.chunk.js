(this["webpackJsonpnot-a-google-drive"]=this["webpackJsonpnot-a-google-drive"]||[]).push([[0],{40:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},70:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var c={};n.r(c),n.d(c,"token",(function(){return v}));var o=n(1),a=n.n(o),i=n(8),r=n.n(i),s=n(22),l=n(4),d=n(42),u=(n(40),n(5)),j=(n(66),n(67),n(43)),f=n.n(j),h=n(44),p=n.n(h),b="owner/loadOwnerSuccess",m="owner/loadOwnerInfoSuccess",O="searchReducer/setSearch",v="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYwY2QwYThkYzI0YmVkNTcyZGExYmRjZSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJreXJ5bG8iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJzdHJpbmciLCJuYmYiOjE2MjQxMTUxNTMsImV4cCI6MTYyNDIwMTU1MywiaXNzIjoiTXlBdXRoU2VydmVyIiwiYXVkIjoiTXlBdXRoQ2xpZW50In0.ySstHMlgGS3kCO0kFElP_Z_CbSwsvxO0qEnf9sSZ6mQ",y=function(){return function(e){e({type:"owner/fetchOwner"});fetch("http://34.105.195.56/User/FilesInfo",{method:"GET",headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){return e.json()})).then((function(t){var n;return e((n=t[0].owner_id,function(e){e({type:"owner/fetchOwnerInfo"}),fetch("http://34.105.195.56/User/UserInfo",{method:"POST",headers:{Authorization:"Bearer ".concat(c),"Content-type":"application/json"},body:JSON.stringify({id:n})}).then((function(e){return e.json()})).then((function(t){return e({type:m,payload:{name:t.FirstName,surname:t.LastName}})})).catch((function(t){return e({type:"owner/loadOwnerInfoFail",payload:t})}))})),e({type:b,payload:t[0].owner_id})})).catch((function(t){return e({type:"owner/loadOwnerFail",payload:t})}))}},g=n(2);function x(e){return e.charAt(0).toUpperCase()+e.slice(1)}var F=function(){var e=Object(l.c)((function(e){return e.owner})),t=Object(l.c)((function(e){return e.search})),n=Object(l.b)();Object(o.useEffect)((function(){Promise.all([n(y())])}),[]);return Object(g.jsxs)("div",{className:"header container",children:[Object(g.jsxs)("div",{className:"header_logo",children:[Object(g.jsx)("img",{src:"data:image/png;base64,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",alt:"NotGoogleDrive"}),Object(g.jsx)("span",{children:"NotGoogleDrive"})]}),Object(g.jsx)("div",{className:"header_searchContainer",children:Object(g.jsxs)("div",{className:"header_searchbar",children:[Object(g.jsx)("input",{type:"text",placeholder:"Search in Drive",className:"header__input",value:t,onChange:function(e){e.preventDefault(),n({type:O,payload:e.target.value})}}),Object(g.jsx)(f.a,{})]})}),Object(g.jsxs)("div",{className:"header_icons",children:[Object(g.jsx)(p.a,{}),e?"Hello, ".concat(x(e.name)," ").concat(x(e.surname)):"Hello!"]})]})},w=(n(70),n(45)),N=n.n(w),C=n(46),z=n.n(C),I=n(47),A=n.n(I),S=n(48),E=n.n(S),P=(n(71),function(e){var t=e.icon,n=e.label,c=e.pageName,o=Object(l.b)(),a=Object(l.c)((function(e){return e.page}));return Object(g.jsx)("button",{type:"button",className:"sidebarItem",onClick:function(e){e.preventDefault(),o({type:"page/setPage",payload:"-".concat(c)})},children:a===c?Object(g.jsxs)("div",{className:"sidebarItem_main selected",children:[t,Object(g.jsxs)("p",{children:[" ",n," "]})]}):Object(g.jsxs)("div",{className:"sidebarItem_main",children:[t,Object(g.jsxs)("p",{children:[" ",n," "]})]})})}),M=(n(72),n(34)),D=n.n(M),H=n(101),k=n(102),J="files/loadDataSuccess",U=function(){return function(e){e({type:"files/fetchData"});fetch("http://34.105.195.56/User/FilesInfo",{method:"GET",headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){return e.json()})).then((function(t){return e({type:"sharedFiles/loadData",payload:t[0].available_files}),console.log("data",t),e({type:J,payload:t[0].root_folder})})).catch((function(t){return e({type:"files/loadDataFial",payload:t})}))}};function B(){return{top:"50%",left:"50%",height:"30%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",transform:"translate(-50%, -50%)"}}var Y=Object(H.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),L=function(){var e=Y(),t=Object(o.useState)(B),n=Object(u.a)(t,1)[0],c=Object(o.useState)(!1),a=Object(u.a)(c,2),i=a[0],r=a[1],s=Object(o.useState)(null),d=Object(u.a)(s,2),j=d[0],f=d[1],h=Object(o.useState)(!1),p=Object(u.a)(h,2),b=p[0],m=p[1],O=Object(o.useState)(!1),y=Object(u.a)(O,2),x=y[0],F=y[1],w=Object(o.useState)(!1),N=Object(u.a)(w,2),C=N[0],z=N[1],I=Object(l.b)(),A=Object(l.c)((function(e){return e.rootFolder}));Object(o.useEffect)((function(){m(!1),F(!1)}),[i]);return Object(g.jsxs)("div",{className:"newFile",children:[Object(g.jsxs)("div",{className:"newFile__container",onClick:function(){r(!0)},children:[Object(g.jsx)(D.a,{}),Object(g.jsx)("p",{children:"New file"})]}),Object(g.jsx)(k.a,{open:i,onClose:function(){r(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(g.jsxs)("div",{style:n,className:e.paper,children:[Object(g.jsx)("p",{style:{marginBottom:"20px"},children:"Select files you want to upload:"}),C?Object(g.jsx)("p",{children:"Uploading..."}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("input",{type:"file",onChange:function(e){e.target.files[0]&&f(e.target.files[0])},style:{marginBottom:"15px"}}),Object(g.jsxs)("div",{className:"modal__checkbox--contanier",children:[Object(g.jsx)("input",{type:"checkbox",name:"encrypted",onChange:function(e){m(e.target.checked)},className:"modal__checkbox"}),Object(g.jsx)("label",{htmlFor:"encrypted",style:{marginRight:"25px"},children:"Encrypted"}),Object(g.jsx)("input",{type:"checkbox",name:"compressed",onChange:function(e){F(e.target.checked)},className:"modal__checkbox"}),Object(g.jsx)("label",{htmlFor:"compressed",children:"Compressed"})]}),Object(g.jsx)("button",{type:"button",onClick:function(){z(!0);var e=new FormData;console.log(j),e.append("fileUpload",j),e&&fetch("http://34.105.195.56/FileUploader/UploadFile?compressed=".concat(x,"&encrypted=").concat(b,"&favourite=false&folderId=").concat(A.id),{method:"POST",headers:{Authorization:"Bearer ".concat(v)},body:e}).then((function(e){e.json().then((function(e){console.log(e)})),z(!1),r(!1),f(null),I(U())}))},className:"modal__upload",children:"Upload"})]})]})})]})};n(73);function T(){return{top:"50%",left:"50%",transform:"translate(-50%, -50%)"}}var R=Object(H.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),V=function(){var e=R(),t=Object(o.useState)(T),n=Object(u.a)(t,1)[0],c=Object(o.useState)(!1),a=Object(u.a)(c,2),i=a[0],r=a[1],s=Object(o.useState)(null),d=Object(u.a)(s,2),j=d[0],f=d[1],h=Object(o.useState)(!1),p=Object(u.a)(h,2),b=p[0],m=p[1],O=Object(l.b)(),y=Object(l.c)((function(e){return e.rootFolder}));return Object(g.jsxs)("div",{className:"newFolder",children:[Object(g.jsxs)("div",{className:"newFolder__container",onClick:function(){r(!0)},children:[Object(g.jsx)(D.a,{}),Object(g.jsx)("p",{children:"New Folder"})]}),Object(g.jsx)(k.a,{open:i,onClose:function(){r(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(g.jsxs)("div",{style:n,className:e.paper,children:[Object(g.jsx)("p",{children:"Select files you want to upload:"}),b?Object(g.jsx)("p",{children:"Uploading..."}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("input",{type:"file",onChange:function(e){e.target.files[0]&&f(e.target.files[0])}}),Object(g.jsx)("button",{type:"button",onClick:function(){m(!0);var e=new FormData;console.log(j),e.append("fileUpload",j),fetch("http://34.105.195.56/FileUploader/UploadFile?compressed=false&encrypted=false&favourite=false&folderId=".concat(y.id),{method:"POST",headers:{Authorization:"Bearer ".concat(v)},body:e}).then((function(e){e.json().then((function(e){console.log(e)})),m(!1),r(!1),f(null),O(U())}))},children:"Upload"})]})]})})]})},Q=function(){return Object(g.jsxs)("aside",{className:"sidebar",children:[Object(g.jsxs)("div",{className:"sidebar_itemsContainer",children:[Object(g.jsx)(P,{icon:Object(g.jsx)(N.a,{}),label:"Home page",pageName:"home"}),Object(g.jsx)(P,{icon:Object(g.jsx)(z.a,{}),label:"Shared with me",pageName:"shared"}),Object(g.jsx)(P,{icon:Object(g.jsx)(A.a,{}),label:"Favorites",pageName:"favorites"}),Object(g.jsx)(P,{icon:Object(g.jsx)(E.a,{}),label:"Deleted",pageName:"deleted"})]}),Object(g.jsx)(V,{}),Object(g.jsx)(L,{})]})},X=n(36),G=(n(74),function(e){var t=e.item,n=e.handleChange;return Object(g.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),n(t.id)},className:"path__button",children:"".concat(t.name.toUpperCase()," /")})}),W=function(e){var t=e.path,n=e.handleChange;return Object(g.jsx)("div",{className:"path--container",children:Object(g.jsx)("p",{className:"path",children:t.map((function(e){return Object(g.jsx)(G,{item:e,handleChange:n},e.name)}))})})},K=(n(75),n(18)),q=(n(76),function(e){var t=e.isFolder,n=e.name,c=e.isCompressed,o=n.split("."),a=o[o.length-1];return Object(g.jsx)(g.Fragment,{children:function(){if(c)return Object(g.jsx)(K.e,{className:"MuiSvgIcon-root icon"});switch(a){case"png":case"jpg":case"gif":return Object(g.jsx)(K.b,{className:"MuiSvgIcon-root icon"});case"zip":return Object(g.jsx)(K.e,{className:"MuiSvgIcon-root icon"});case"pdf":return Object(g.jsx)(K.c,{className:"MuiSvgIcon-root icon"});case"doc":case"docx":case"rtf":case"txt":return Object(g.jsx)(K.d,{className:"MuiSvgIcon-root icon"});default:return t?Object(g.jsx)(K.f,{className:"MuiSvgIcon-root icon"}):Object(g.jsx)(K.a,{className:"MuiSvgIcon-root icon"})}}()})});q.defaultProps={isCompressed:!1};var _=q,Z=function(e){var t=e.name,n=e.id;return Object(g.jsxs)("button",{type:"button",className:"fileCard",onClick:function(e){e.preventDefault(),fetch("http://34.105.195.56/FileUploader/DownloadFile?fileId=".concat(n),{method:"GET",headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){e.ok&&e.blob().then((function(e){var t=window.URL.createObjectURL(e);window.location.assign(t)}))}))},children:[Object(g.jsx)("div",{className:"fileCard--top",children:Object(g.jsx)(_,{name:t,isFolder:!1})}),Object(g.jsx)("div",{className:"fileCard--bottom",children:Object(g.jsx)("p",{children:t})})]})};n(77);function $(e,t){if(e.id===t)return e;if(null!=e.children){var n,c=null;for(n=0;null==c&&n<e.children.length;n++)c=$(e.children[n],t);return c}return null}var ee=function(){var e,t=Object(l.c)((function(e){return e.page})),n=Object(l.c)((function(e){return e.rootFolder})),c=Object(l.c)((function(e){return e.search})),a=Object(l.c)((function(e){return e.files}));Object(o.useEffect)((function(){}),[n]);var i=function(){if(n&&""===c){var e=$(a,n.id),t=null===e||void 0===e?void 0:e.files;if(t)return t.slice(0,4).map((function(e){var t=e.name,n=e.id;return Object(g.jsx)(Z,{name:t,id:n},n)}))}return null};return Object(g.jsx)(g.Fragment,{children:"home"===t&&(null===(e=i())||void 0===e?void 0:e.length)>0&&Object(g.jsx)("div",{className:"fileView_row",children:i()})})},te=n(14),ne=(n(78),n(50)),ce=n.n(ne),oe=n(49),ae=n.n(oe),ie=n(52),re=n.n(ie),se=n(51),le=n.n(se),de=n(53),ue=function(e,t,n){return function(o){o({type:"files/manageFavorite"});var a="http://34.105.195.56".concat(n?"/Folder/SwitchFavouriteFolder":"/FileUploader/SwitchFavouriteFile");fetch(a,{method:"POST",headers:{Authorization:"Bearer ".concat(c),"Content-type":"application/json"},body:JSON.stringify({id:e,isFavourite:t})}).then((function(){return o(U()),o({type:"files/manageFavoriteSuccess"})})).catch((function(){return o({type:"files/manageFavoriteFail"})}))}},je=function(e,t){return function(n){n({type:"files/deleteFile"});var c="http://34.105.195.56".concat(t?"/Folder/DeleteFolder":"/FileUploader/DeleteFile");fetch(c,{method:"POST",headers:{Authorization:"Bearer ".concat(v),"Content-type":"application/json"},body:JSON.stringify({id:e})}).then((function(){return n(U()),n({type:"files/deleteFileSuccess"})})).catch((function(){return n({type:"files/deleteFileFail"})}))}},fe=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],he=function(e){var t=e.id,n=e.caption,o=e.size,a=e.isFavorite,i=e.isFolder,r=e.handleChange,s=e.isEncrypted,d=e.isCompressed,u=e.shared,j=function(e){var t=1e3*parseInt(e.substring(0,8),16);return new Date(t)}(t),f="".concat(j.getDate()," ").concat(fe[j.getMonth()+1]," ").concat(j.getFullYear()),h=Object(l.b)(),p=function(e){e.preventDefault(),r(t)},b=function(e){e.preventDefault(),fetch("http://34.105.195.56/FileUploader/DownloadFile?fileId=".concat(t),{method:"GET",headers:{Authorization:"Bearer ".concat(c)}}).then((function(e){e.ok&&e.blob().then((function(e){console.log(e);var t=window.URL.createObjectURL(e);window.location.assign(t)}))}))},m=u?"fileItem__star--disable":"fileItem__star";return Object(g.jsxs)("div",{className:"fileItem",children:[i?Object(g.jsx)("button",{type:"button",className:"fileItem__icon",onClick:p,children:Object(g.jsx)(_,{name:n,isFolder:i,isCompressed:d})}):Object(g.jsx)("button",{type:"button",className:"fileItem__icon",title:"Download file",onClick:b,children:Object(g.jsx)(_,{name:n,isFolder:i,isCompressed:d})}),Object(g.jsx)("button",{type:"button",className:m,onClick:function(e){e.preventDefault(),Promise.all([h(ue(t,!a,i))])},children:a?Object(g.jsx)(ae.a,{className:"fileItem__star--active"}):Object(g.jsx)(ce.a,{className:"fileItem__star--disactive"})}),i?Object(g.jsx)("button",{type:"button",className:"fileItem__name",onClick:p,children:Object(g.jsx)("p",{children:n})}):Object(g.jsx)("button",{type:"button",className:"fileItem__name",title:"Download file",onClick:b,children:Object(g.jsx)("p",{children:n})}),s?Object(g.jsx)(le.a,{className:"fileItem_encrypted"}):Object(g.jsx)("div",{className:"fileItem_encrypted"}),Object(g.jsx)("p",{className:"fileItem__date",children:f}),Object(g.jsx)("p",{className:"fileItem__size",children:function(e){if("-"===e)return"-";var t=-1;do{e/=1024,t++}while(e>1024);return Math.max(e,.1).toFixed(1)+[" kB"," MB"," GB"," TB","PB","EB","ZB","YB"][t]}(o)}),Object(g.jsx)("button",{type:"button",className:"fileItem__delete fileItem__button",onClick:function(e){e.preventDefault(),Promise.all([h(je(t,i))])},children:Object(g.jsx)(re.a,{})}),Object(g.jsx)("button",{type:"button",className:"fileItem__share fileItem__button",children:Object(g.jsx)(de.a,{className:"MuiSvgIcon-root icon"})})]})};he.defaultProps={handleChange:null,isEncrypted:!1,isCompressed:!1,shared:!1};var pe=he,be=(n(79),function(){return Object(g.jsx)("div",{className:"no-files",children:Object(g.jsx)("p",{children:"No files"})})}),me=function(e){var t=e.route,n=e.setRoute,c=Object(l.c)((function(e){return e.page})),a=Object(l.c)((function(e){return e.files})),i=Object(l.c)((function(e){return e.rootFolder})),r=Object(l.c)((function(e){return e.sharedFiles})),s=Object(l.c)((function(e){return e.search})),d=Object(l.b)(),j=Object(o.useState)([]),f=Object(u.a)(j,2),h=f[0],p=f[1],b=Object(o.useState)([]),m=Object(u.a)(b,2),y=m[0],x=m[1],F=Object(o.useState)([]),w=Object(u.a)(F,2),N=w[0],C=w[1],z=Object(o.useState)([]),I=Object(u.a)(z,2),A=I[0],S=I[1],E=Object(o.useState)([]),P=Object(u.a)(E,2),M=P[0],D=P[1];Object(o.useEffect)((function(){}),[i,r]),Object(o.useEffect)((function(){fetch("http://34.105.195.56/FileUploader/AllMyFiles",{method:"GET",headers:{Authorization:"Bearer ".concat(v)}}).then((function(e){e.ok&&e.json().then((function(e){return S(e)}))})),fetch("http://34.105.195.56/Folder/AllMyFolders",{method:"GET",headers:{Authorization:"Bearer ".concat(v)}}).then((function(e){e.ok&&e.json().then((function(e){return D(e)}))}))}),[]),Object(o.useEffect)((function(){p(null===A||void 0===A?void 0:A.map((function(e){return Object(te.a)(Object(te.a)({},e),{},{isFolder:!1})})).filter((function(e){return e.name.toLowerCase().includes(s.toLowerCase())})).concat(null===M||void 0===M?void 0:M.map((function(e){return Object(te.a)(Object(te.a)({},e),{},{isFolder:!0,encrypted:!1,compressed:!1,size:"-"})})).filter((function(e){return e.name.toLowerCase().includes(s.toLowerCase())})))),""===s&&p([])}),[s]),Object(o.useEffect)((function(){"-"===c[0]&&d({type:"page/setPage",payload:c.slice(1)}),n([{name:c,id:""}]),d({type:"rootFolder/setRoot",payload:a})}),[c]),Object(o.useEffect)((function(){if(i){var e=$(a,i.id);d({type:"rootFolder/setRoot",payload:e||a}),fetch("http://34.105.195.56/FileUploader/AllFavouriteFiles",{method:"GET",headers:{Authorization:"Bearer ".concat(v)}}).then((function(e){e.ok&&e.json().then((function(e){x(e)}))})),fetch("http://34.105.195.56/Folder/AllFavouriteFolders",{method:"GET",headers:{Authorization:"Bearer ".concat(v)}}).then((function(e){e.json().then((function(e){C(e)}))}))}}),[a]);var H=function(e){if(d({type:O,payload:""}),""===e)n([{name:c,id:""}]),d({type:"rootFolder/setRoot",payload:a});else{var o=$(a,e);d({type:"rootFolder/setRoot",payload:o});var i=-1;t.forEach((function(e,t){e.id===o.id&&(i=t)})),n(-1===i?[].concat(Object(X.a)(t),[{name:o.name,id:e}]):t.slice(0,i+1))}};return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{className:"filesView__titles",children:[Object(g.jsx)("p",{children:"Name"}),Object(g.jsx)("p",{className:"filesView__lastmodified",children:"Created at"}),Object(g.jsx)("p",{children:"File size"})]}),"home"===c&&""===s&&function(){if(i){var e=$(a,i.id),t=null===e||void 0===e?void 0:e.files,n=null===e||void 0===e?void 0:e.children;return 0===(null===t||void 0===t?void 0:t.length)&&0===(null===n||void 0===n?void 0:n.length)?be:null===t||void 0===t?void 0:t.map((function(e){var t=e.id,n=e.name,c=e.size,o=e.favourite,a=e.encrypted,i=e.compressed;return Object(g.jsx)(pe,{id:t,caption:n,size:c,isFavorite:o,isEncrypted:a,isCompressed:i,isFolder:!1},t)})).concat(null===n||void 0===n?void 0:n.map((function(e){var t=e.id,n=e.name,c=e.favourite;return Object(g.jsx)(pe,{id:t,caption:n,size:"-",isFavorite:c,isFolder:!0,handleChange:H},t)})))}return be}(),"favorites"===c&&""===s&&function(){if(i){var e,n,c,o=t.length>1?null===i||void 0===i?void 0:i.files:y,r=N;if(t.length>1)r=null===i||void 0===i||null===(c=i.children)||void 0===c?void 0:c.map((function(e){return e.id}));return(null===o||void 0===o?void 0:o.length)>0||(null===(e=r)||void 0===e?void 0:e.length)>0?o.map((function(e){var t=e.id,n=e.name,c=e.size,o=e.favourite,a=e.encrypted,i=e.compressed;return Object(g.jsx)(pe,{id:t,caption:n,size:c,isFavorite:o,isEncrypted:a,isCompressed:i,isFolder:!1},t)})).concat(null===(n=r)||void 0===n?void 0:n.map((function(e){var t=$(a,e);return Object(g.jsx)(pe,{id:e,caption:t.name,size:"-",isFavorite:t.favourite,isEncrypted:t.encrypted,isCompressed:t.compressed,isFolder:!0,handleChange:H},e)}))):be}return be}(),"shared"===c&&""===s&&(i&&(null===r||void 0===r?void 0:r.length)>0?r.map((function(e){var t=e.id,n=e.name,c=e.size,o=e.encrypted,a=e.compressed;return Object(g.jsx)(pe,{id:t,caption:n,size:c||"-",isFavorite:!1,isEncrypted:o,isCompressed:a,isFolder:!1,shared:!0},t)})):be),""!==s&&((null===h||void 0===h?void 0:h.length)>0?h.map((function(e){var t=e.id,n=e.name,c=e.size,o=e.encrypted,a=e.compressed,i=e.isFolder;return Object(g.jsx)(pe,{id:t,caption:n,size:c||"-",isFavorite:!1,isEncrypted:o,isCompressed:a,isFolder:i,shared:!0,handleChange:i?H:null},t)})):be)]})};n(80);function Oe(e,t){if(e.id===t)return e;if(null!=e.children){var n,c=null;for(n=0;null==c&&n<e.children.length;n++)c=Oe(e.children[n],t);return c}return null}var ve=function(){var e=Object(l.c)((function(e){return e.page})),t=Object(l.c)((function(e){return e.files})),n=Object(l.c)((function(e){return e.rootFolder})),c=Object(l.b)(),a=Object(o.useState)([{name:e,id:""}]),i=Object(u.a)(a,2),r=i[0],s=i[1];Object(o.useEffect)((function(){Promise.all([c(U())]),c({type:"rootFolder/setRoot",payload:t})}),[]),Object(o.useEffect)((function(){}),[n]),Object(o.useEffect)((function(){"-"===e[0]&&c({type:"page/setPage",payload:e.slice(1)}),s([{name:e,id:""}]),c({type:"rootFolder/setRoot",payload:t})}),[e]);return Object(g.jsxs)("div",{className:"fileView",children:[Object(g.jsx)(W,{path:r,handleChange:function(n){if(""===n)s([{name:e,id:""}]),c({type:"rootFolder/setRoot",payload:t});else{var o=Oe(t,n);c({type:"rootFolder/setRoot",payload:o});var a=-1;r.forEach((function(e,t){e.id===o.id&&(a=t)})),s(-1===a?[].concat(Object(X.a)(r),[{name:o.name,id:n}]):r.slice(0,a+1))}}}),Object(g.jsx)(ee,{page:e}),Object(g.jsx)(me,{route:r,setRoute:function(e){return s(e)}})]})};n(29),n(38),n(82);var ye=function(){var e=function(){var e=Object(o.useState)(function(){var e=localStorage.getItem("token"),t=JSON.parse(e);return null===t||void 0===t?void 0:t.token}()),t=Object(u.a)(e,2),n=t[0],c=t[1];return{setToken:function(e){localStorage.setItem("token",JSON.stringify(e)),c(e.token)},token:n}}();return e.token,e.setToken,Object(g.jsx)("div",{className:"app",children:Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(F,{}),Object(g.jsxs)("div",{className:"app_main container",children:[Object(g.jsx)(Q,{}),Object(g.jsx)(ve,{})]})]})})},ge=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,104)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),c(e),o(e),a(e),i(e)}))},xe="home",Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"page/setPage":return t.payload?t.payload:e;default:return e}},we={id:"",name:"",surname:""},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(te.a)(Object(te.a)({},e),{},{id:t.payload});case m:return Object(te.a)(Object(te.a)({},e),{},{name:t.payload.name,surname:t.payload.surname});default:return e}},Ce=[],ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return t.payload;default:return e}},Ie=[],Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"rootFolder/setRoot":return t.payload;default:return e}},Se=[],Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"sharedFiles/loadData":return t.payload;default:return e}},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"searchReducer/setSearch":return t.payload;default:return e}},Me=Object(s.b)({page:Fe,files:ze,owner:Ne,rootFolder:Ae,sharedFiles:Ee,search:Pe}),De=Object(s.c)(Object(s.a)(d.a))(s.d)(Me);r.a.render(Object(g.jsx)(a.a.StrictMode,{children:Object(g.jsx)(l.a,{store:De,children:Object(g.jsx)(ye,{})})}),document.getElementById("root")),ge()}},[[83,1,2]]]);
//# sourceMappingURL=main.570de1c1.chunk.js.map