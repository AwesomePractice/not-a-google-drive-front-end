{"version":3,"sources":["modules/Header/actions/actionTypes.js","__shared/functions.js","modules/Header/index.jsx","modules/Header/actions/fetchOwner.js","modules/Header/actions/fetchOwnerInfo.js","modules/Sidebar/components/SidebarItem/index.jsx","__shared/actions/actionTypes.js","__shared/actions/fetchData.js","modules/Sidebar/components/NewFile/index.jsx","modules/Sidebar/components/NewFolder/index.jsx","modules/Sidebar/index.jsx","modules/Files/components/Path/index.jsx","modules/Files/components/Icon/index.jsx","modules/Files/components/FileCard/index.jsx","modules/Files/components/FilesRow/index.jsx","modules/Files/actions/manageFavorite.js","modules/Files/actions/actionTypes.js","modules/Files/actions/deleteItem.js","modules/Files/components/FileItem/index.jsx","modules/Files/components/FilesList/index.jsx","__shared/actions/setPage.js","modules/Files/actions/setRoot.js","modules/Files/index.jsx","views/Home/HomeView.jsx","views/Login/LoginView.jsx","media/logo.png","views/Signup/SignupView.jsx","App.js","reportWebVitals.js","reducers/pageReducer.js","reducers/ownerReducer.js","reducers/filesReducer.js","reducers/rootFolderReducer.js","reducers/sharedFilesReducer.js","reducers/searchReducer.js","rootReducer.js","index.js"],"names":["OWNER_LOAD_OWNER_SUCCESS","OWNER_LOAD_OWNER_INFO_SUCCESS","SEACRH_SET_SEARCH","searchTree","element","matchingId","id","children","i","result","length","getToken","localStorage","getItem","capitalizeFirstLetter","string","charAt","toUpperCase","slice","logOut","removeItem","window","location","reload","Header","owner","useSelector","state","search","dispatch","useDispatch","useEffect","Promise","all","type","token","fetch","method","headers","Authorization","then","response","ok","json","data","owner_id","body","JSON","stringify","payload","name","FirstName","surname","LastName","catchError","catch","err","className","placeholder","value","onChange","e","preventDefault","target","onClick","SidebarItem","icon","label","pageName","page","FILES_LOAD_DATA_SUCCESS","fetchData","res","available_files","root_folder","getModalStyle","top","left","height","display","alignItems","justifyContent","flexDirection","transform","useStyles","makeStyles","theme","paper","position","width","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","NewFile","classes","useState","modalStyle","open","setOpen","file","setFile","encrypted","setEncrypted","compressed","setCompressed","uploading","setUploading","folder","rootFolder","status","handleClose","Modal","onClose","aria-labelledby","aria-describedby","style","marginBottom","files","checked","htmlFor","marginRight","FormData","append","NewFolder","setName","parentId","isFavourite","Sidebar","navigator","clipboard","writeText","title","PathItem","item","handleChange","Path","path","map","Icon","isFolder","isCompressed","splt","split","getIcon","defaultProps","FileCard","blob","URL","createObjectURL","assign","FilesRow","route","root","initialRoot","homeFiles_row","currentFiles","manageFavorite","isFavorite","url","deleteItem","monthNames","FileItem","caption","size","isEncrypted","shared","date","decapsulatedDate","parseInt","substring","Date","decapsulateDateFromId","fileDate","getDate","getMonth","getFullYear","alert","handleClickFolder","handleClickDownload","tempLink","document","createElement","href","setAttribute","click","handleCloseModal","fileItemStarClass","fileItemDeleteClass","fileItemShareClass","fileSizeInBytes","Math","max","toFixed","getReadableFileSizeString","textAlign","userId","fileId","noFiles","FileList","setRoute","sharedFiles","searchResult","setSearchResult","favoriteFiles","setFavoriteFiles","favoriteFolders","setFavoriteFolders","allFiles","setAllFiles","allFolders","setAllFolders","sort","setSort","filter","toLowerCase","includes","concat","folderId","idx","forEach","compare","a","b","currentFolders","favourite","homeFiles_titles","folders","favoriteFiles_titles","setPage","setRoot","Files","newRoute","HomeView","loginUser","credentials","console","log","LoginView","setToken","login","setLogin","password","setPassword","role","setRole","handleSubmit","access_token","src","alt","onSubmit","to","SignupView","firstName","setFirstName","lastName","setLastName","birthDate","setBirthDate","user","setUser","text","required","min","App","new_token","setItem","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialPage","pageReducer","action","initialOwner","ownerReducer","initialFiles","filesReducer","initialRootFolder","rootFolderReducer","initialSharedFiles","sharedFiledReducer","searchReducer","rootReducer","combineReducers","sharedFilesReducer","store","compose","applyMiddleware","thunk","createStore","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.5e60d326.chunk.js","sourcesContent":["export const OWNER_FETCH_OWNER = \"owner/fetchOwner\";\nexport const OWNER_LOAD_OWNER_SUCCESS = \"owner/loadOwnerSuccess\";\nexport const OWNER_LOAD_OWNER_FAIL = \"owner/loadOwnerFail\";\nexport const OWNER_FETCH_OWNER_INFO = \"owner/fetchOwnerInfo\";\nexport const OWNER_LOAD_OWNER_INFO_SUCCESS = \"owner/loadOwnerInfoSuccess\";\nexport const OWNER_LOAD_OWNER_INFO_FAIL = \"owner/loadOwnerInfoFail\";\n\nexport const SEACRH_SET_SEARCH = \"searchReducer/setSearch\";\n","/* eslint-disable no-undef */\n/* eslint-disable import/prefer-default-export */\n/* eslint-disable no-plusplus */\nexport function searchTree(element, matchingId) {\n  if (element.id === matchingId) {\n    return element;\n  }\n  if (element.children != null) {\n    let i;\n    let result = null;\n    for (i = 0; result == null && i < element.children.length; i++) {\n      result = searchTree(element.children[i], matchingId);\n    }\n    return result;\n  }\n  return null;\n}\n\nexport const getToken = () => {\n  const tokenString = localStorage.getItem(\"token\");\n  return tokenString;\n};\n","/* eslint-disable no-undef */\nimport React, { useEffect } from \"react\";\nimport \"./styles.scss\";\nimport { useSelector, useDispatch } from \"react-redux\";\n\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nimport { fetchOwner } from \"./actions/fetchOwner\";\nimport { SEACRH_SET_SEARCH } from \"./actions/actionTypes\";\n\nfunction capitalizeFirstLetter(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\nfunction logOut() {\n  localStorage.removeItem(\"token\");\n  window.location.reload();\n}\n\nconst Header = () => {\n  const owner = useSelector((state) => state.owner);\n  const search = useSelector((state) => state.search);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    Promise.all([dispatch(fetchOwner())]);\n  }, []);\n\n  useEffect(() => {}, [owner]);\n\n  const handleChange = (e) => {\n    e.preventDefault();\n    dispatch({ type: SEACRH_SET_SEARCH, payload: e.target.value });\n  };\n\n  return (\n    <div className=\"header container\">\n      <span className=\"header__user\">\n        {owner ? (\n          <>\n            Hi,\n            <span className=\"header__user--accent\">\n              {` ${capitalizeFirstLetter(owner.name)}`}\n              {` ${capitalizeFirstLetter(owner.surname)}`}\n            </span>\n          </>\n        ) : (\n          \"Hi!\"\n        )}\n      </span>\n      <div className=\"header__searchbar--container\">\n        <div className=\"header__searchbar\">\n          <input\n            type=\"text\"\n            placeholder=\"Search in Drive\"\n            value={search}\n            onChange={handleChange}\n          />\n          <SearchIcon />\n        </div>\n      </div>\n      <button type=\"button\" onClick={logOut} className=\"header__logout\">\n        Log Out\n      </button>\n    </div>\n  );\n};\n\nexport default Header;\n","/* eslint-disable no-undef */\n/* eslint-disable import/prefer-default-export */\nimport {\n  OWNER_FETCH_OWNER,\n  OWNER_LOAD_OWNER_FAIL,\n  OWNER_LOAD_OWNER_SUCCESS,\n} from \"./actionTypes\";\n\nimport { getToken } from \"../../../__shared/functions\";\nimport { fetchOwnerInfo } from \"./fetchOwnerInfo\";\n\nexport const fetchOwner = () => (dispatch) => {\n  dispatch({ type: OWNER_FETCH_OWNER });\n\n  const url = \"http://34.105.195.56/User/FilesInfo\";\n  const token = getToken();\n\n  fetch(url, {\n    method: \"GET\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((response) => {\n      if (response.ok) {\n        response.json().then((data) => {\n          Promise.all([dispatch(fetchOwnerInfo(data[0].owner_id))]);\n          return dispatch({\n            type: OWNER_LOAD_OWNER_SUCCESS,\n            payload: data[0].owner_id,\n          });\n        });\n      } else if (response === 401 || response === 403) {\n        localStorage.removeItem(\"token\");\n        window.location.reload();\n      } else {\n        catchError(response);\n      }\n    })\n    .catch((err) => dispatch({ type: OWNER_LOAD_OWNER_FAIL, payload: err }));\n};\n","/* eslint-disable no-undef */\n/* eslint-disable import/prefer-default-export */\nimport {\n  OWNER_FETCH_OWNER_INFO,\n  OWNER_LOAD_OWNER_INFO_FAIL,\n  OWNER_LOAD_OWNER_INFO_SUCCESS,\n} from \"./actionTypes\";\n\nimport { getToken } from \"../../../__shared/functions\";\n\nexport const fetchOwnerInfo = (id) => (dispatch) => {\n  dispatch({ type: OWNER_FETCH_OWNER_INFO });\n\n  const url = \"http://34.105.195.56/User/UserInfo\";\n  const token = getToken();\n\n  fetch(url, {\n    method: \"POST\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"Content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      id,\n    }),\n  })\n    .then((response) => {\n      if (response === 401 || response === 403) {\n        localStorage.removeItem(\"token\");\n        window.location.reload();\n      } else if (!response.ok) {\n        catchError(response);\n      } else {\n        response.json().then((data) =>\n          dispatch({\n            type: OWNER_LOAD_OWNER_INFO_SUCCESS,\n            payload: { name: data.FirstName, surname: data.LastName },\n          })\n        );\n      }\n    })\n    .catch((err) =>\n      dispatch({ type: OWNER_LOAD_OWNER_INFO_FAIL, payload: err })\n    );\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport \"./styles.scss\";\nimport PropTypes from \"prop-types\";\n\nconst SidebarItem = ({ icon, label, pageName }) => {\n  const dispatch = useDispatch();\n  const page = useSelector((state) => state.page);\n\n  const handleClick = (e) => {\n    e.preventDefault();\n    dispatch({ type: \"page/setPage\", payload: `-${pageName}` });\n  };\n\n  return (\n    <button type=\"button\" className=\"sidebarItem\" onClick={handleClick}>\n      {page === pageName ? (\n        <div className=\"sidebarItem--container selected\">\n          {icon}\n          <p> {label} </p>\n        </div>\n      ) : (\n        <div className=\"sidebarItem--container\">\n          {icon}\n          <p> {label} </p>\n        </div>\n      )}\n    </button>\n  );\n};\n\nSidebarItem.propTypes = {\n  icon: PropTypes.element.isRequired,\n  label: PropTypes.string.isRequired,\n  pageName: PropTypes.string.isRequired,\n};\n\nexport default SidebarItem;\n","export const FILES_FETCH_DATA = \"files/fetchData\";\nexport const FILES_LOAD_DATA_SUCCESS = \"files/loadDataSuccess\";\nexport const FILES_LOAD_DATA_FAIL = \"files/loadDataFial\";\n\nexport const SHARED_FILES_LOAD_DATA_SUCCESS = \"sharedFiles/loadData\";\n","/* eslint-disable import/no-useless-path-segments */\n/* eslint-disable no-undef */\n/* eslint-disable import/prefer-default-export */\nimport {\n  FILES_FETCH_DATA,\n  FILES_LOAD_DATA_FAIL,\n  FILES_LOAD_DATA_SUCCESS,\n  SHARED_FILES_LOAD_DATA_SUCCESS,\n} from \"./actionTypes\";\n\nimport { getToken } from \"../../__shared/functions\";\n\nexport const fetchData = () => (dispatch) => {\n  dispatch({ type: FILES_FETCH_DATA });\n\n  const url = \"http://34.105.195.56/User/FilesInfo\";\n  const token = getToken();\n  // console.log(\"fetch\", localStorage);\n  // console.log(token);\n\n  fetch(url, {\n    method: \"GET\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n    },\n  })\n    .then((res) => res.json())\n    .then((data) => {\n      dispatch({\n        type: SHARED_FILES_LOAD_DATA_SUCCESS,\n        payload: data[0].available_files,\n      });\n      // console.log(\"data\", data);\n      return dispatch({\n        type: FILES_LOAD_DATA_SUCCESS,\n        payload: data[0].root_folder,\n      });\n    })\n    .catch((err) => dispatch({ type: FILES_LOAD_DATA_FAIL, payload: err }));\n};\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable no-undef */\nimport React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport \"./styles.scss\";\n\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Modal from \"@material-ui/core/Modal\";\nimport { AiFillCloseCircle } from \"react-icons/ai\";\nimport { getToken } from \"../../../../__shared/functions\";\nimport { fetchData } from \"../../../../__shared/actions/fetchData\";\n\nfunction getModalStyle() {\n  return {\n    top: `50%`,\n    left: `50%`,\n    height: `35%`,\n    display: `flex`,\n    alignItems: `center`,\n    justifyContent: `center`,\n    flexDirection: `column`,\n    transform: `translate(-50%, -50%)`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: \"absolute\",\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nconst NewFile = () => {\n  const classes = useStyles();\n  const token = getToken();\n\n  const [modalStyle] = useState(getModalStyle);\n  const [open, setOpen] = useState(false);\n  const [file, setFile] = useState(null);\n  const [encrypted, setEncrypted] = useState(false);\n  const [compressed, setCompressed] = useState(false);\n  const [uploading, setUploading] = useState(false);\n  const dispatch = useDispatch();\n  const folder = useSelector((state) => state.rootFolder);\n\n  useEffect(() => {\n    setEncrypted(false);\n    setCompressed(false);\n  }, [open]);\n\n  function status(response) {\n    if (response === 401 || response === 403) {\n      localStorage.removeItem(\"token\");\n      window.location.reload();\n    }\n    return response;\n  }\n\n  const handleChangeEncrypted = (e) => {\n    setEncrypted(e.target.checked);\n  };\n\n  const handleChangeCompressed = (e) => {\n    setCompressed(e.target.checked);\n  };\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleChange = (e) => {\n    if (e.target.files[0]) {\n      setFile(e.target.files[0]);\n    }\n  };\n\n  const handleUpload = () => {\n    setUploading(true);\n\n    const body = new FormData();\n    body.append(\"fileUpload\", file);\n\n    if (body)\n      fetch(\n        `http://34.105.195.56/FileUploader/UploadFile?compressed=${compressed}&encrypted=${encrypted}&favourite=false&folderId=${folder.id}`,\n        {\n          method: \"POST\",\n          headers: {\n            Authorization: `Bearer ${token}`,\n          },\n          body,\n        }\n      )\n        .then(status)\n        .then(() => Promise.all([dispatch(fetchData())]));\n\n    setUploading(false);\n    setOpen(false);\n    setFile(null);\n  };\n\n  return (\n    <button className=\"newFile sidebar__button\" type=\"button\">\n      <div\n        className=\"newFile--container sidebar__button--container\"\n        onClick={handleOpen}\n      >\n        <p>New file</p>\n        <AddIcon />\n      </div>\n\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\"\n      >\n        <div style={modalStyle} className={classes.paper}>\n          <AiFillCloseCircle className=\"modal__close\" onClick={handleClose} />\n          <p style={{ marginBottom: \"20px\" }}>\n            Select files you want to upload:\n          </p>\n          {uploading ? (\n            <p>Uploading...</p>\n          ) : (\n            <>\n              <input\n                type=\"file\"\n                onChange={handleChange}\n                style={{ marginBottom: \"15px\" }}\n              />\n              <div className=\"modal__checkbox--contanier\">\n                <input\n                  type=\"checkbox\"\n                  name=\"encrypted\"\n                  onChange={handleChangeEncrypted}\n                  className=\"modal__checkbox\"\n                />\n                <label htmlFor=\"encrypted\" style={{ marginRight: \"25px\" }}>\n                  Encrypted\n                </label>\n\n                <input\n                  type=\"checkbox\"\n                  name=\"compressed\"\n                  onChange={handleChangeCompressed}\n                  className=\"modal__checkbox\"\n                />\n                <label htmlFor=\"compressed\">Compressed</label>\n              </div>\n              <button\n                type=\"button\"\n                onClick={handleUpload}\n                className=\"modal__upload\"\n              >\n                Upload\n              </button>\n            </>\n          )}\n        </div>\n      </Modal>\n    </button>\n  );\n};\n\nexport default NewFile;\n","/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable no-undef */\nimport React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport \"./styles.scss\";\n\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Modal from \"@material-ui/core/Modal\";\nimport { AiFillCloseCircle } from \"react-icons/ai\";\nimport { getToken } from \"../../../../__shared/functions\";\nimport { fetchData } from \"../../../../__shared/actions/fetchData\";\n\nfunction getModalStyle() {\n  return {\n    top: `50%`,\n    left: `50%`,\n    height: `30%`,\n    display: `flex`,\n    alignItems: `center`,\n    justifyContent: `center`,\n    flexDirection: `column`,\n    transform: `translate(-50%, -50%)`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: \"absolute\",\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nconst NewFolder = () => {\n  const classes = useStyles();\n  const token = getToken();\n\n  const [modalStyle] = useState(getModalStyle);\n  const [open, setOpen] = useState(false);\n  const [name, setName] = useState(\"\");\n\n  const dispatch = useDispatch();\n  const folder = useSelector((state) => state.rootFolder);\n\n  function status(response) {\n    if (response === 401 || response === 403) {\n      localStorage.removeItem(\"token\");\n      window.location.reload();\n    }\n    return response;\n  }\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleChange = (e) => {\n    setName(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    fetch(`http://34.105.195.56/Folder/CreateFolder`, {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"Content-type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        parentId: folder.id,\n        name,\n        isFavourite: false,\n      }),\n    })\n      .then(status)\n      .then(() => Promise.all([dispatch(fetchData())]));\n    setOpen(false);\n    setName(\"\");\n  };\n\n  return (\n    <button className=\"newFolder sidebar__button\" type=\"button\">\n      <div\n        className=\"newFolder--container sidebar__button--container\"\n        onClick={handleOpen}\n      >\n        <p>New Folder</p>\n        <AddIcon />\n      </div>\n\n      <Modal\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"simple-modal-title\"\n        aria-describedby=\"simple-modal-description\"\n      >\n        <div style={modalStyle} className={classes.paper}>\n          <AiFillCloseCircle className=\"modal__close\" onClick={handleClose} />\n          <p style={{ marginBottom: \"20px\" }}>Text a name</p>\n          <input\n            type=\"text\"\n            placeholder=\"New folder\"\n            className=\"newFolder__input\"\n            value={name}\n            onChange={handleChange}\n            style={{ marginBottom: \"30px\" }}\n          />\n          <button\n            className=\"newFolder__submit\"\n            type=\"submit\"\n            onClick={handleSubmit}\n          >\n            Create\n          </button>\n        </div>\n      </Modal>\n    </button>\n  );\n};\n\nexport default NewFolder;\n","/* eslint-disable no-undef */\nimport React, { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\n\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport PeopleAltIcon from \"@material-ui/icons/PeopleAlt\";\nimport StarBorderIcon from \"@material-ui/icons/StarBorder\";\n\nimport SidebarItem from \"./components/SidebarItem\";\nimport NewFile from \"./components/NewFile\";\nimport NewFolder from \"./components/NewFolder\";\n\nimport \"./styles.scss\";\n\nconst Sidebar = () => {\n  const owner = useSelector((state) => state.owner);\n\n  useEffect(() => {}, [owner]);\n\n  const handleClickInput = (e) => {\n    e.preventDefault();\n    navigator.clipboard.writeText(owner.id);\n  };\n\n  return (\n    <aside className=\"sidebar\">\n      <div className=\"sidebar--container\">\n        <SidebarItem icon={<HomeIcon />} label=\"Home page\" pageName=\"home\" />\n        <SidebarItem\n          icon={<PeopleAltIcon />}\n          label=\"Shared with me\"\n          pageName=\"shared\"\n        />\n        <SidebarItem\n          icon={<StarBorderIcon />}\n          label=\"Favorites\"\n          pageName=\"favorites\"\n        />\n\n        <div className=\"sidebar__buttons--container\">\n          <button\n            type=\"button\"\n            className=\"myId\"\n            onClick={handleClickInput}\n            title=\"Copy\"\n          >{`My id: ${owner.id}`}</button>\n          <NewFolder />\n          <NewFile />\n        </div>\n      </div>\n    </aside>\n  );\n};\n\nexport default Sidebar;\n","import PropTypes from \"prop-types\";\n\nimport { MdKeyboardArrowRight } from \"react-icons/md\";\n\nimport \"./styles.scss\";\n\nconst Path = ({ path, handleChange }) => (\n  <div className=\"path--container container\">\n    <p className=\"path\">\n      {path.map((item) => (\n        <PathItem item={item} handleChange={handleChange} key={item.name} />\n      ))}\n    </p>\n  </div>\n);\n\nconst PathItem = ({ item, handleChange }) => {\n  const handleClick = (e) => {\n    e.preventDefault();\n    handleChange(item.id);\n  };\n  return (\n    <button type=\"button\" onClick={handleClick} className=\"path__button\">\n      {item.name.toUpperCase()}\n      <MdKeyboardArrowRight />\n    </button>\n  );\n};\n\nPath.propTypes = {\n  path: PropTypes.arrayOf(PropTypes.objectOf(PropTypes.string)).isRequired,\n  handleChange: PropTypes.func.isRequired,\n};\n\nPathItem.propTypes = {\n  item: PropTypes.objectOf(PropTypes.string).isRequired,\n  handleChange: PropTypes.func.isRequired,\n};\n\nexport default Path;\n","import PropTypes from \"prop-types\";\n\nimport {\n  AiFillFileZip,\n  AiFillFilePdf,\n  AiFillFileImage,\n  AiFillFile,\n  AiFillFileText,\n  AiFillFolder,\n} from \"react-icons/ai\";\n\nimport \"./styles.scss\";\n\nconst Icon = ({ isFolder, name, isCompressed }) => {\n  const splt = name.split(\".\");\n  const type = splt[splt.length - 1];\n\n  const getIcon = () => {\n    if (isCompressed) return <AiFillFileZip className=\"MuiSvgIcon-root icon\" />;\n\n    switch (type) {\n      case \"png\":\n      case \"jpg\":\n      case \"gif\":\n        return <AiFillFileImage className=\"MuiSvgIcon-root icon\" />;\n      case \"zip\":\n        return <AiFillFileZip className=\"MuiSvgIcon-root icon\" />;\n      case \"pdf\":\n        return <AiFillFilePdf className=\"MuiSvgIcon-root icon\" />;\n      case \"doc\":\n      case \"docx\":\n      case \"rtf\":\n      case \"txt\":\n        return <AiFillFileText className=\"MuiSvgIcon-root icon\" />;\n      default:\n        return isFolder ? (\n          <AiFillFolder className=\"MuiSvgIcon-root icon\" />\n        ) : (\n          <AiFillFile className=\"MuiSvgIcon-root icon\" />\n        );\n    }\n  };\n  return <>{getIcon()}</>;\n};\n\nIcon.propTypes = {\n  isFolder: PropTypes.bool.isRequired,\n  name: PropTypes.string.isRequired,\n  isCompressed: PropTypes.bool,\n};\n\nIcon.defaultProps = {\n  isCompressed: false,\n};\n\nexport default Icon;\n","/* eslint-disable no-undef */\nimport React from \"react\";\nimport \"./styles.scss\";\nimport PropTypes from \"prop-types\";\n\nimport Icon from \"../Icon\";\n\nimport { getToken } from \"../../../../__shared/functions\";\n\nconst FileCard = ({ name, id }) => {\n  const token = getToken();\n\n  const handleClickDownload = (e) => {\n    e.preventDefault();\n\n    fetch(`http://34.105.195.56/FileUploader/DownloadFile?fileId=${id}`, {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }).then((response) => {\n      if (response !== 401 && response !== 403)\n        response.blob().then((data) => {\n          const file = window.URL.createObjectURL(data);\n          window.location.assign(file);\n        });\n      else {\n        localStorage.removeItem(\"token\");\n        window.location.reload();\n      }\n    });\n  };\n\n  return (\n    <button type=\"button\" className=\"fileCard\" onClick={handleClickDownload}>\n      <Icon name={name} isFolder={false} />\n      <p>{name}</p>\n    </button>\n  );\n};\n\nFileCard.propTypes = {\n  name: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n};\n\nexport default FileCard;\n","/* eslint-disable no-plusplus */\n/* eslint-disable camelcase */\nimport { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport PropTypes from \"prop-types\";\n\nimport FileCard from \"../FileCard\";\n\nimport \"./styles.scss\";\nimport { searchTree } from \"../../../../__shared/functions\";\n\nconst FilesRow = ({ page, route }) => {\n  const root = useSelector((state) => state.rootFolder);\n  const search = useSelector((state) => state.search);\n  const initialRoot = useSelector((state) => state.files);\n\n  useEffect(() => {}, [root]);\n\n  const homeFiles_row = () => {\n    if (root && search === \"\") {\n      const folder = searchTree(initialRoot, root.id);\n      const currentFiles = folder?.files;\n      if (currentFiles)\n        return currentFiles\n          .slice(0, 5)\n          .map(({ name, id }) => <FileCard name={name} key={id} id={id} />);\n    }\n\n    return null;\n  };\n  return (\n    <>\n      {page === \"home\" && route.length === 1 && homeFiles_row()?.length > 0 && (\n        <>\n          <p className=\"files__title\">Recent Files</p>\n          <div className=\"files__row\">{homeFiles_row()}</div>\n        </>\n      )}\n    </>\n  );\n};\n\nFilesRow.propTypes = {\n  page: PropTypes.string.isRequired,\n  route: PropTypes.arrayOf(PropTypes.objectOf(PropTypes.string)).isRequired,\n};\n\nexport default FilesRow;\n","/* eslint-disable import/prefer-default-export */\n/* eslint-disable no-undef */\nimport {\n  FILES_MANAGE_FAVORITE,\n  FILES_MANAGE_FAVORITE_FAIL,\n  FILES_MANAGE_FAVORITE_SUCCESS,\n} from \"./actionTypes\";\n\nimport { getToken } from \"../../../__shared/functions\";\nimport { fetchData } from \"../../../__shared/actions/fetchData\";\n\nexport const manageFavorite = (id, isFavorite, isFolder) => (dispatch) => {\n  dispatch({ type: FILES_MANAGE_FAVORITE });\n\n  const url = `http://34.105.195.56${\n    !isFolder\n      ? \"/FileUploader/SwitchFavouriteFile\"\n      : \"/Folder/SwitchFavouriteFolder\"\n  }`;\n  const token = getToken();\n\n  fetch(url, {\n    method: \"POST\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"Content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      id,\n      isFavourite: isFavorite,\n    }),\n  })\n    .then(() => {\n      if (response === 401 || response === 403) {\n        localStorage.removeItem(\"token\");\n        window.location.reload();\n      }\n    })\n    .then(() => {\n      dispatch(fetchData());\n      return dispatch({ type: FILES_MANAGE_FAVORITE_SUCCESS });\n    })\n    .catch(() => dispatch({ type: FILES_MANAGE_FAVORITE_FAIL }));\n};\n","export const FILES_MANAGE_FAVORITE = \"files/manageFavorite\";\nexport const FILES_MANAGE_FAVORITE_SUCCESS = \"files/manageFavoriteSuccess\";\nexport const FILES_MANAGE_FAVORITE_FAIL = \"files/manageFavoriteFail\";\nexport const FILES_DELETE_FILE = \"files/deleteFile\";\nexport const FILES_DELETE_FILE_SUCCESS = \"files/deleteFileSuccess\";\nexport const FILES_DELETE_FILE_FAIL = \"files/deleteFileFail\";\n","/* eslint-disable import/prefer-default-export */\n/* eslint-disable no-undef */\nimport {\n  FILES_DELETE_FILE,\n  FILES_DELETE_FILE_FAIL,\n  FILES_DELETE_FILE_SUCCESS,\n} from \"./actionTypes\";\n\nimport { getToken } from \"../../../__shared/functions\";\nimport { fetchData } from \"../../../__shared/actions/fetchData\";\n\nexport const deleteItem = (id, isFolder) => (dispatch) => {\n  dispatch({ type: FILES_DELETE_FILE });\n\n  const url = `http://34.105.195.56${\n    !isFolder ? \"/FileUploader/DeleteFile\" : \"/Folder/DeleteFolder\"\n  }`;\n  const token = getToken();\n\n  function status(response) {\n    if (response === 401 || response === 403) {\n      localStorage.removeItem(\"token\");\n      window.location.reload();\n    }\n    return response;\n  }\n\n  fetch(url, {\n    method: \"POST\",\n    headers: {\n      Authorization: `Bearer ${token}`,\n      \"Content-type\": \"application/json\",\n    },\n    body: JSON.stringify({\n      id,\n    }),\n  })\n    .then(status)\n    .then(() => {\n      dispatch(fetchData());\n      return dispatch({ type: FILES_DELETE_FILE_SUCCESS });\n    })\n    .catch(() => dispatch({ type: FILES_DELETE_FILE_FAIL }));\n};\n","/* eslint-disable camelcase */\n/* eslint-disable no-undef */\n/* eslint-disable no-console */\nimport React, { useState } from \"react\";\nimport \"./styles.scss\";\nimport { useDispatch } from \"react-redux\";\nimport PropTypes from \"prop-types\";\n\nimport StarOutlineIcon from \"@material-ui/icons/StarOutline\";\nimport StarIcon from \"@material-ui/icons/Star\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport VpnKeyIcon from \"@material-ui/icons/VpnKey\";\nimport { RiShareFill } from \"react-icons/ri\";\nimport Modal from \"@material-ui/core/Modal\";\nimport { AiFillCloseCircle } from \"react-icons/ai\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport { manageFavorite } from \"../../actions/manageFavorite\";\nimport { deleteItem } from \"../../actions/deleteItem\";\nimport Icon from \"../Icon\";\n\nimport { getToken } from \"../../../../__shared/functions\";\nimport { fetchData } from \"../../../../__shared/actions/fetchData\";\n\nconst monthNames = [\n  \"Jan\",\n  \"Feb\",\n  \"Mar\",\n  \"Apr\",\n  \"May\",\n  \"Jun\",\n  \"Jul\",\n  \"Aug\",\n  \"Sep\",\n  \"Oct\",\n  \"Nov\",\n  \"Dec\",\n];\n\nconst decapsulateDateFromId = (id) => {\n  const decapsulatedDate = parseInt(id.substring(0, 8), 16) * 1000;\n  // const date = new Date(decapsulatedDate);\n  return new Date(decapsulatedDate);\n};\n\nfunction getModalStyle() {\n  return {\n    top: `50%`,\n    left: `50%`,\n    height: `30%`,\n    display: `flex`,\n    alignItems: `center`,\n    justifyContent: `center`,\n    flexDirection: `column`,\n    transform: `translate(-50%, -50%)`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    position: \"absolute\",\n    width: 400,\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3),\n  },\n}));\n\nconst FileItem = ({\n  id,\n  caption,\n  size,\n  isFavorite,\n  isFolder,\n  handleChange,\n  isEncrypted,\n  isCompressed,\n  shared,\n}) => {\n  const classes = useStyles();\n  const token = getToken();\n\n  const [modalStyle] = useState(getModalStyle);\n  const [open, setOpen] = useState(false);\n  const [name, setName] = useState(\"\");\n\n  const date = decapsulateDateFromId(id);\n  const fileDate = `${date.getDate()} ${\n    monthNames[date.getMonth() + 1]\n  } ${date.getFullYear()}`;\n\n  const getReadableFileSizeString = (fileSizeInBytes) => {\n    if (fileSizeInBytes === \"-\") return \"-\";\n\n    let i = -1;\n    const byteUnits = [\" kB\", \" MB\", \" GB\", \" TB\", \"PB\", \"EB\", \"ZB\", \"YB\"];\n    do {\n      // eslint-disable-next-line no-param-reassign\n      fileSizeInBytes /= 1024;\n      // eslint-disable-next-line no-plusplus\n      i++;\n    } while (fileSizeInBytes > 1024);\n\n    return Math.max(fileSizeInBytes, 0.1).toFixed(1) + byteUnits[i];\n  };\n\n  const dispatch = useDispatch();\n\n  function status(response) {\n    if (response.ok) return response;\n    if (response === 401 || response === 403) {\n      localStorage.removeItem(\"token\");\n      window.location.reload();\n    }\n    alert(\"Wrong user id\");\n    return response;\n  }\n\n  const handleClickFavorite = (e) => {\n    e.preventDefault();\n\n    Promise.all([dispatch(manageFavorite(id, !isFavorite, isFolder))]);\n    Promise.all([dispatch(fetchData())]);\n  };\n\n  const handleClickFolder = (e) => {\n    e.preventDefault();\n\n    handleChange(id);\n  };\n\n  const handleClickDelete = (e) => {\n    e.preventDefault();\n\n    Promise.all([dispatch(deleteItem(id, isFolder))]);\n  };\n\n  const handleClickDownload = (e) => {\n    e.preventDefault();\n\n    fetch(`http://34.105.195.56/FileUploader/DownloadFile?fileId=${id}`, {\n      method: \"GET\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    }).then((response) => {\n      if (response !== 401 && response !== 403)\n        response.blob().then((data) => {\n          const file = window.URL.createObjectURL(data);\n          const tempLink = document.createElement(\"a\");\n          tempLink.href = file;\n          tempLink.setAttribute(\"download\", caption);\n          tempLink.click();\n        });\n      else {\n        localStorage.removeItem(\"token\");\n        window.location.reload();\n      }\n    });\n  };\n\n  const handleOpenModal = () => {\n    setOpen(true);\n  };\n\n  const handleCloseModal = () => {\n    setOpen(false);\n  };\n\n  const handleChangeModal = (e) => {\n    setName(e.target.value);\n  };\n\n  const handleSubmitModal = (e) => {\n    e.preventDefault();\n\n    fetch(`http://34.105.195.56/User/ShareFile`, {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${token}`,\n        \"Content-type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        userId: name,\n        fileId: id,\n      }),\n    })\n      .then(status)\n      .then(() => Promise.all([dispatch(fetchData())]));\n    setOpen(false);\n    setName(\"\");\n  };\n\n  const fileItemStarClass = shared\n    ? \"fileItem__star--disable\"\n    : \"fileItem__star\";\n\n  const fileItemDeleteClass = shared\n    ? \"fileItem__delete--disable fileItem__button--disable\"\n    : \"fileItem__delete fileItem__button\";\n\n  const fileItemShareClass = shared\n    ? \"fileItem__share fileItem__button--disable\"\n    : \"fileItem__share fileItem__button\";\n\n  return (\n    <div className=\"fileItem\">\n      {!isFolder ? (\n        <button\n          type=\"button\"\n          className=\"fileItem__icon\"\n          title=\"Download file\"\n          onClick={handleClickDownload}\n        >\n          <Icon\n            name={caption}\n            isFolder={isFolder}\n            isCompressed={isCompressed}\n          />\n        </button>\n      ) : (\n        <button\n          type=\"button\"\n          className=\"fileItem__icon\"\n          onClick={handleClickFolder}\n        >\n          <Icon\n            name={caption}\n            isFolder={isFolder}\n            isCompressed={isCompressed}\n          />\n        </button>\n      )}\n\n      <button\n        type=\"button\"\n        className={fileItemStarClass}\n        onClick={handleClickFavorite}\n      >\n        {isFavorite ? (\n          <StarIcon className=\"fileItem__star\" />\n        ) : (\n          <StarOutlineIcon className=\"fileItem__star\" />\n        )}\n      </button>\n\n      {!isFolder ? (\n        <button\n          type=\"button\"\n          className=\"fileItem__name\"\n          title=\"Download file\"\n          onClick={handleClickDownload}\n        >\n          <p>{caption}</p>\n        </button>\n      ) : (\n        <button\n          type=\"button\"\n          className=\"fileItem__name\"\n          onClick={handleClickFolder}\n        >\n          <p>{caption}</p>\n        </button>\n      )}\n\n      {isEncrypted ? (\n        <VpnKeyIcon className=\"fileItem_encrypted\" />\n      ) : (\n        <div className=\"fileItem_encrypted\" />\n      )}\n      <p className=\"fileItem__date\">{fileDate}</p>\n      <p className=\"fileItem__size\">{getReadableFileSizeString(size)}</p>\n\n      <button\n        type=\"button\"\n        className={fileItemDeleteClass}\n        onClick={handleClickDelete}\n      >\n        <CancelIcon />\n      </button>\n      <button type=\"button\" className={fileItemShareClass}>\n        <RiShareFill onClick={handleOpenModal} />\n\n        <Modal\n          open={open}\n          onClose={handleCloseModal}\n          aria-labelledby=\"simple-modal-title\"\n          aria-describedby=\"simple-modal-description\"\n        >\n          <div style={modalStyle} className={classes.paper}>\n            <AiFillCloseCircle\n              className=\"modal__close\"\n              onClick={handleCloseModal}\n            />\n            <p\n              style={{\n                marginBottom: \"20px\",\n                width: \"75%\",\n                textAlign: \"center\",\n              }}\n            >\n              Text an id of user you woyl like to share with\n            </p>\n            <input\n              type=\"text\"\n              placeholder=\"User id\"\n              className=\"newFolder__input\"\n              value={name}\n              onChange={handleChangeModal}\n              style={{ marginBottom: \"30px\" }}\n            />\n            <button\n              className=\"newFolder__submit\"\n              type=\"submit\"\n              onClick={handleSubmitModal}\n            >\n              Share\n            </button>\n          </div>\n        </Modal>\n      </button>\n    </div>\n  );\n};\n\nFileItem.propTypes = {\n  id: PropTypes.string.isRequired,\n  caption: PropTypes.string.isRequired,\n  size: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired,\n  isFavorite: PropTypes.oneOfType([PropTypes.bool, PropTypes.string])\n    .isRequired,\n  isFolder: PropTypes.bool.isRequired,\n  handleChange: PropTypes.func,\n  isEncrypted: PropTypes.bool,\n  isCompressed: PropTypes.bool,\n  shared: PropTypes.bool,\n};\n\nFileItem.defaultProps = {\n  handleChange: null,\n  isEncrypted: false,\n  isCompressed: false,\n  shared: false,\n};\n\nexport default FileItem;\n","/* eslint-disable no-undef */\n/* eslint-disable no-plusplus */\n/* eslint-disable consistent-return */\n/* eslint-disable camelcase */\n/* eslint-disable no-unused-expressions */\nimport React, { useEffect, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport PropTypes from \"prop-types\";\n\nimport { searchTree, getToken } from \"../../../../__shared/functions\";\nimport FileItem from \"../FileItem\";\n\nimport \"./styles.scss\";\nimport { SEACRH_SET_SEARCH } from \"../../../Header/actions/actionTypes\";\n\nconst noFiles = () => (\n  <div className=\"no-files\">\n    <p>No files</p>\n  </div>\n);\n\nconst FileList = ({ route, setRoute }) => {\n  const page = useSelector((state) => state.page);\n  const initialRoot = useSelector((state) => state.files);\n  const root = useSelector((state) => state.rootFolder);\n  const sharedFiles = useSelector((state) => state.sharedFiles);\n  const search = useSelector((state) => state.search);\n  const dispatch = useDispatch();\n\n  const [searchResult, setSearchResult] = useState([]);\n  const [favoriteFiles, setFavoriteFiles] = useState([]);\n  const [favoriteFolders, setFavoriteFolders] = useState([]);\n  const [allFiles, setAllFiles] = useState([]);\n  const [allFolders, setAllFolders] = useState([]);\n  const [sort, setSort] = useState(\"\");\n\n  const token = getToken();\n\n  useEffect(() => {}, [root, sharedFiles]);\n\n  useEffect(() => {}, [sort]);\n\n  useEffect(() => {\n    Promise.all([\n      fetch(\"http://34.105.195.56/FileUploader/AllMyFiles\", {\n        method: \"GET\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      }).then((response) => {\n        if (response.ok) response.json().then((data) => setAllFiles(data));\n        else localStorage.removeItem(\"token\");\n      }),\n\n      fetch(\"http://34.105.195.56/Folder/AllMyFolders\", {\n        method: \"GET\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      }).then((response) => {\n        if (response.ok) response.json().then((data) => setAllFolders(data));\n        else localStorage.removeItem(\"token\");\n      }),\n    ]);\n  }, [initialRoot]);\n\n  useEffect(() => {\n    setSearchResult(\n      allFiles\n        ?.map((item) => ({ ...item, isFolder: false }))\n        .filter(({ name }) => name.toLowerCase().includes(search.toLowerCase()))\n        .concat(\n          allFolders\n            ?.map((item) => ({\n              ...item,\n              isFolder: true,\n              encrypted: false,\n              compressed: false,\n              size: \"-\",\n            }))\n            .filter(({ name }) =>\n              name.toLowerCase().includes(search.toLowerCase())\n            )\n        )\n    );\n    if (search === \"\") setSearchResult([]);\n  }, [search, allFolders, allFiles]);\n\n  useEffect(() => {\n    dispatch({ type: SEACRH_SET_SEARCH, payload: \"\" });\n    if (page[0] === \"-\")\n      dispatch({ type: \"page/setPage\", payload: page.slice(1) });\n    setRoute([{ name: page, id: \"\" }]);\n    dispatch({ type: \"rootFolder/setRoot\", payload: initialRoot });\n  }, [page]);\n\n  useEffect(() => {\n    if (root) {\n      const folder = searchTree(initialRoot, root.id);\n      dispatch({\n        type: \"rootFolder/setRoot\",\n        payload: folder || initialRoot,\n      });\n\n      fetch(\"http://34.105.195.56/FileUploader/AllFavouriteFiles\", {\n        method: \"GET\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      }).then((response) => {\n        if (response !== 401 && response !== 403)\n          response.json().then((data) => {\n            setFavoriteFiles(data);\n          });\n        else {\n          localStorage.removeItem(\"token\");\n          window.location.reload();\n        }\n      });\n\n      fetch(\"http://34.105.195.56/Folder/AllFavouriteFolders\", {\n        method: \"GET\",\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      }).then((response) => {\n        if (response !== 401 && response !== 403)\n          response.json().then((data) => {\n            setFavoriteFolders(data);\n          });\n        else {\n          localStorage.removeItem(\"token\");\n          window.location.reload();\n        }\n      });\n    }\n  }, [initialRoot]);\n\n  const handleChange = (folderId) => {\n    dispatch({ type: SEACRH_SET_SEARCH, payload: \"\" });\n    if (folderId === \"\") {\n      setRoute([{ name: page, id: \"\" }]);\n      dispatch({ type: \"rootFolder/setRoot\", payload: initialRoot });\n    } else {\n      const folder = searchTree(initialRoot, folderId);\n      dispatch({ type: \"rootFolder/setRoot\", payload: folder });\n\n      let idx = -1;\n      route.forEach((e, i) => {\n        if (e.id === folder.id) idx = i;\n      });\n      idx === -1\n        ? setRoute([...route, { name: folder.name, id: folderId }])\n        : setRoute(route.slice(0, idx + 1));\n    }\n  };\n\n  const compare = (a, b) => {\n    switch (sort) {\n      case \"name\":\n        return a.name > b.name;\n      case \"size\":\n        return a.size > b.size;\n      case \"date\": {\n        const aDate = new Date(parseInt(a.id.substring(0, 8), 16) * 1000);\n        const bDate = new Date(parseInt(b.id.substring(0, 8), 16) * 1000);\n        return aDate > bDate;\n      }\n      default:\n        return true;\n    }\n  };\n\n  const homeFiles_titles = () => {\n    if (root) {\n      const folder = searchTree(initialRoot, root.id);\n      const currentFiles = folder?.files;\n      const currentFolders = folder?.children;\n\n      if (currentFiles?.length > 0 || currentFolders?.length > 0)\n        return currentFiles\n          ?.sort(compare)\n          ?.map(({ id, name, size, favourite, encrypted, compressed }) => (\n            <FileItem\n              id={id}\n              caption={name}\n              size={size}\n              isFavorite={favourite}\n              isEncrypted={encrypted}\n              isCompressed={compressed}\n              isFolder={false}\n              key={id}\n            />\n          ))\n          .concat(\n            currentFolders\n              ?.sort(compare)\n              ?.map(({ id, name, favourite }) => (\n                <FileItem\n                  id={id}\n                  caption={name}\n                  size=\"-\"\n                  isFavorite={favourite}\n                  isFolder\n                  handleChange={handleChange}\n                  key={id}\n                />\n              ))\n          );\n      return noFiles();\n    }\n\n    return noFiles();\n  };\n\n  const favoriteFiles_titles = () => {\n    if (root) {\n      const files = route.length > 1 ? root?.files : favoriteFiles;\n      let folders = favoriteFolders;\n      if (route.length > 1) {\n        folders = root?.children?.map(({ id }) => id);\n      }\n      if (files?.length > 0 || folders?.length > 0)\n        return files\n          .map(({ id, name, size, favourite, encrypted, compressed }) => (\n            <FileItem\n              id={id}\n              caption={name}\n              size={size}\n              isFavorite={favourite}\n              isEncrypted={encrypted}\n              isCompressed={compressed}\n              isFolder={false}\n              key={id}\n            />\n          ))\n          .concat(\n            folders?.map((id) => {\n              const folder = searchTree(initialRoot, id);\n              return (\n                <FileItem\n                  id={id}\n                  caption={folder.name}\n                  size=\"-\"\n                  isFavorite={folder.favourite}\n                  isEncrypted={folder.encrypted}\n                  isCompressed={folder.compressed}\n                  isFolder\n                  handleChange={handleChange}\n                  key={id}\n                />\n              );\n            })\n          );\n      return noFiles();\n    }\n    return noFiles();\n  };\n\n  const sharedFiles_titles = () => {\n    if (root && sharedFiles?.length > 0) {\n      return sharedFiles.map(({ id, name, size, encrypted, compressed }) => (\n        <FileItem\n          id={id}\n          caption={name}\n          size={size || \"-\"}\n          isFavorite={false}\n          isEncrypted={encrypted}\n          isCompressed={compressed}\n          isFolder={false}\n          key={id}\n          shared\n        />\n      ));\n    }\n    return noFiles();\n  };\n\n  const searchResult_titles = () => {\n    if (searchResult?.length > 0) {\n      return searchResult\n        .sort(compare)\n        .map(\n          ({ id, name, size, encrypted, compressed, isFolder, favourite }) => (\n            <FileItem\n              id={id}\n              caption={name}\n              size={size || \"-\"}\n              isFavorite={favourite}\n              isEncrypted={encrypted}\n              isCompressed={compressed}\n              isFolder={isFolder}\n              key={id}\n              shared\n              handleChange={isFolder ? handleChange : null}\n            />\n          )\n        );\n    }\n    return noFiles();\n  };\n\n  const handleClickName = (e) => {\n    e.preventDefault();\n    setSort(\"name\");\n  };\n\n  const handleClickDate = (e) => {\n    e.preventDefault();\n    setSort(\"date\");\n  };\n\n  const handleClickSize = (e) => {\n    e.preventDefault();\n    setSort(\"size\");\n  };\n\n  return (\n    <>\n      <div className=\"filesView__titles\">\n        <button type=\"button\" onClick={handleClickName}>\n          Name\n        </button>\n        <button type=\"button\" onClick={handleClickDate}>\n          Created at\n        </button>\n        <button type=\"button\" onClick={handleClickSize}>\n          File size\n        </button>\n      </div>\n\n      {page === \"home\" && search === \"\" && homeFiles_titles()}\n\n      {page === \"favorites\" && search === \"\" && favoriteFiles_titles()}\n\n      {page === \"shared\" && search === \"\" && sharedFiles_titles()}\n\n      {search !== \"\" && searchResult_titles()}\n    </>\n  );\n};\n\nFileList.propTypes = {\n  route: PropTypes.arrayOf(PropTypes.objectOf(PropTypes.string)).isRequired,\n  setRoute: PropTypes.func.isRequired,\n};\n\nexport default FileList;\n","/* eslint-disable import/prefer-default-export */\r\nexport const setPage = (page) => ({\r\n  type: \"page/setPage\",\r\n  payload: page,\r\n});\r\n","/* eslint-disable import/prefer-default-export */\r\nexport const setRoot = (root) => ({\r\n  type: \"rootFolder/setRoot\",\r\n  payload: root,\r\n});\r\n","/* eslint-disable camelcase */\n/* eslint-disable no-unused-expressions */\n/* eslint-disable no-plusplus */\nimport React, { useState, useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetchData } from \"../../__shared/actions/fetchData\";\n\nimport Path from \"./components/Path\";\nimport FilesRow from \"./components/FilesRow\";\nimport FileList from \"./components/FilesList\";\n\nimport \"./styles.scss\";\nimport \"../../main.scss\";\nimport { setPage } from \"../../__shared/actions/setPage\";\nimport { setRoot } from \"./actions/setRoot\";\n\nfunction searchTree(element, matchingId) {\n  if (element.id === matchingId) {\n    return element;\n  }\n  if (element.children != null) {\n    let i;\n    let result = null;\n    for (i = 0; result == null && i < element.children.length; i++) {\n      result = searchTree(element.children[i], matchingId);\n    }\n    return result;\n  }\n  return null;\n}\n\nconst Files = () => {\n  const page = useSelector((state) => state.page);\n  const initialRoot = useSelector((state) => state.files);\n  const root = useSelector((state) => state.rootFolder);\n  const dispatch = useDispatch();\n\n  const [route, setRoute] = useState([{ name: page, id: \"\" }]);\n\n  useEffect(() => {\n    Promise.all([dispatch(fetchData())]);\n\n    dispatch(setRoot(initialRoot));\n  }, []);\n\n  useEffect(() => {}, [root]);\n\n  useEffect(() => {\n    if (page[0] === \"-\") dispatch(setPage(page.slice(1)));\n    setRoute([{ name: page, id: \"\" }]);\n    dispatch(setRoot(initialRoot));\n  }, [page]);\n\n  const handleChange = (folderId) => {\n    if (folderId === \"\") {\n      setRoute([{ name: page, id: \"\" }]);\n      dispatch(setRoot(initialRoot));\n    } else {\n      const folder = searchTree(initialRoot, folderId);\n      dispatch(setRoot(folder));\n\n      let idx = -1;\n      route.forEach((e, i) => {\n        if (e.id === folder.id) idx = i;\n      });\n      idx === -1\n        ? setRoute([...route, { name: folder.name, id: folderId }])\n        : setRoute(route.slice(0, idx + 1));\n    }\n  };\n\n  const handleRouteChange = (newRoute) => setRoute(newRoute);\n\n  return (\n    <div className=\"files\">\n      <Path path={route} handleChange={handleChange} />\n      <div className=\"container\">\n        <FilesRow page={page} route={route} />\n        <FileList route={route} setRoute={handleRouteChange} />\n      </div>\n    </div>\n  );\n};\n\nexport default Files;\n","import { useDispatch } from \"react-redux\";\r\n\r\nimport { ImGoogleDrive } from \"react-icons/im\";\r\nimport Header from \"../../modules/Header\";\r\nimport Sidebar from \"../../modules/Sidebar\";\r\nimport Files from \"../../modules/Files\";\r\n\r\nimport \"./styles.scss\";\r\nimport { setPage } from \"../../__shared/actions/setPage\";\r\n\r\nconst HomeView = () => {\r\n  const dispatch = useDispatch();\r\n\r\n  const handleClick = (e) => {\r\n    e.preventDefault();\r\n    dispatch(setPage(\"-home\"));\r\n  };\r\n  return (\r\n    <div className=\"homeView--container\">\r\n      <button className=\"logo\" type=\"button\" onClick={handleClick}>\r\n        <ImGoogleDrive />\r\n        <span>NotGoogleDrive</span>\r\n      </button>\r\n      <Header />\r\n      <Sidebar />\r\n      <Files />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomeView;\r\n","/* eslint-disable no-undef */\nimport React, { useState } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Link } from \"react-router-dom\";\n\nimport \"./styles.scss\";\nimport logo from \"../../media/logo.png\";\n\nconst url = \"http://34.105.195.56\";\n\nasync function loginUser(credentials) {\n  console.log(\"credentials\", credentials);\n  const response = await fetch(`${url}/User/SignIn`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(credentials),\n  });\n  if (response === 401 || response === 403) {\n    localStorage.removeItem(\"token\");\n  }\n  window.location.reload();\n  return response.json();\n}\n\nexport default function LoginView({ setToken }) {\n  const [login, setLogin] = useState();\n  const [password, setPassword] = useState();\n  const [role, setRole] = useState(\"string\");\n\n  const handleSubmit = async (e) => {\n    setRole(\"string\");\n    e.preventDefault();\n    const token = await loginUser({\n      login,\n      password,\n      role,\n    });\n    setToken(token?.access_token);\n  };\n\n  return (\n    <div className=\"login_wrapper\">\n      <img src={logo} alt=\"NotAGoogleDrive\" className=\"login__logo\" />\n      <h1 className=\"login__header\">Log in to NotAGoogleDrive</h1>\n      <form onSubmit={handleSubmit} className=\"login_form\">\n        <label className=\"login__username\">\n          <p>Username</p>\n          <input type=\"text\" onChange={(e) => setLogin(e.target.value)} />\n        </label>\n        <label className=\"login__password\">\n          <p>Password</p>\n          <input\n            type=\"password\"\n            onChange={(e) => setPassword(e.target.value)}\n          />\n        </label>\n        <div>\n          <button type=\"submit\" className=\"login__submit\">\n            Submit\n          </button>\n        </div>\n      </form>\n      <Link to=\"/Signup\" className=\"login__signup\">\n        Dont have an accout? Sign up!\n      </Link>\n    </div>\n  );\n}\n\nLoginView.propTypes = {\n  setToken: PropTypes.func.isRequired,\n};\n","export default \"data:image/png;base64,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\"","/* eslint-disable consistent-return */\n/* eslint-disable no-undef */\nimport React, { useState } from \"react\";\nimport { Link, Redirect } from \"react-router-dom\";\n\nimport \"./styles.scss\";\n\nconst url = \"http://34.105.195.56\";\n\nexport default function SignupView() {\n  const [login, setLogin] = useState();\n  const [firstName, setFirstName] = useState();\n  const [lastName, setLastName] = useState();\n  const [birthDate, setBirthDate] = useState();\n  const [password, setPassword] = useState();\n  const [user, setUser] = useState(false);\n\n  const signupUser = (credentials) => {\n    fetch(`${url}/User/SignUp`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(credentials),\n    }).then((response) => {\n      if (response === 401 || response === 403) {\n        localStorage.removeItem(\"token\");\n      }\n      if (response.ok)\n        response.text().then((text) => {\n          setUser(true);\n          alert(text);\n        });\n      else {\n        response.text().then((text) => {\n          alert(text);\n        });\n      }\n      window.location.reload();\n    });\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    signupUser({\n      login,\n      firstName,\n      lastName,\n      birthDate,\n      password,\n    });\n  };\n\n  return (\n    <>\n      {user ? (\n        <Redirect to=\"/Login\" />\n      ) : (\n        <div className=\"signup_wrapper\">\n          <h1 className=\"signup__header\">Sign up to NotAGoogleDrive</h1>\n          <form onSubmit={handleSubmit} className=\"signup_form\">\n            <label className=\"signup__field\">\n              <p>Username</p>\n              <input\n                type=\"text\"\n                onChange={(e) => setLogin(e.target.value)}\n                required\n              />\n            </label>\n            <label className=\"signup__field\">\n              <p>First Name</p>\n              <input\n                type=\"text\"\n                onChange={(e) => setFirstName(e.target.value)}\n                required\n              />\n            </label>\n            <label className=\"signup__field\">\n              <p>Last Name</p>\n              <input\n                type=\"text\"\n                onChange={(e) => setLastName(e.target.value)}\n                required\n              />\n            </label>\n            <label className=\"signup__field\">\n              <p>Birth Date</p>\n              <input\n                type=\"date\"\n                min=\"1900-01-01\"\n                onChange={(e) => setBirthDate(e.target.value)}\n              />\n            </label>\n            <label className=\"signup__field signup__field--last\">\n              <p>Password</p>\n              <input\n                type=\"password\"\n                onChange={(e) => setPassword(e.target.value)}\n                required\n              />\n            </label>\n            <div>\n              <button className=\"signup__submit\" type=\"submit\">\n                Submit\n              </button>\n            </div>\n          </form>\n          <Link to=\"/Login\" className=\"signup__login\">\n            Already have an account? Login!\n          </Link>\n        </div>\n      )}\n    </>\n  );\n}\n","/* eslint-disable camelcase */\n/* eslint-disable no-undef */\n/* eslint-disable no-alert */\nimport \"./App.scss\";\nimport { useState, useEffect } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\n\nimport HomeView from \"./views/Home/HomeView\";\nimport LoginView from \"./views/Login/LoginView\";\nimport SignupView from \"./views/Signup/SignupView\";\n\nimport { getToken } from \"./__shared/functions\";\n\nfunction App() {\n  const [token, setToken] = useState(getToken());\n\n  useEffect(() => {}, [token]);\n\n  const handleLogin = (new_token) => {\n    localStorage.setItem(\"token\", new_token);\n    setToken(new_token);\n  };\n\n  return (\n    <Router>\n      <Switch>\n        <Route path=\"/Login\">\n          {token ? (\n            <Redirect to=\"/Home\" />\n          ) : (\n            <LoginView setToken={handleLogin} />\n          )}\n        </Route>\n        <Route path=\"/Signup\">\n          {token ? <Redirect to=\"/Home\" /> : <SignupView />}\n        </Route>\n        <Route path=\"/Home\">\n          {token ? <HomeView /> : <Redirect to=\"/Login\" />}\n        </Route>\n        <Route path=\"/\">\n          {token ? <Redirect to=\"/Home\" /> : <Redirect to=\"/Login\" />}\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const initialPage = \"home\";\nconst pageReducer = (page = initialPage, action) => {\n  switch (action.type) {\n    case \"page/setPage\":\n      return action.payload ? action.payload : page;\n    default:\n      return page;\n  }\n};\n\nexport default pageReducer;\n","import {\n  OWNER_LOAD_OWNER_INFO_SUCCESS,\n  OWNER_LOAD_OWNER_SUCCESS,\n} from \"../modules/Header/actions/actionTypes\";\n\nconst initialOwner = {\n  id: \"\",\n  name: \"\",\n  surname: \"\",\n};\nconst ownerReducer = (owner = initialOwner, action) => {\n  switch (action.type) {\n    case OWNER_LOAD_OWNER_SUCCESS:\n      return {\n        ...owner,\n        id: action.payload,\n      };\n    case OWNER_LOAD_OWNER_INFO_SUCCESS:\n      return {\n        ...owner,\n        name: action.payload.name,\n        surname: action.payload.surname,\n      };\n    default:\n      return owner;\n  }\n};\n\nexport default ownerReducer;\n","import { FILES_LOAD_DATA_SUCCESS } from \"../__shared/actions/actionTypes\";\n\nconst initialFiles = [];\nconst filesReducer = (files = initialFiles, action) => {\n  switch (action.type) {\n    case FILES_LOAD_DATA_SUCCESS:\n      return action.payload;\n    default:\n      return files;\n  }\n};\n\nexport default filesReducer;\n","const initialRootFolder = [];\nconst rootFolderReducer = (rootFolder = initialRootFolder, action) => {\n  switch (action.type) {\n    case \"rootFolder/setRoot\":\n      return action.payload;\n    default:\n      return rootFolder;\n  }\n};\n\nexport default rootFolderReducer;\n","const initialSharedFiles = [];\nconst sharedFiledReducer = (sharedFiles = initialSharedFiles, action) => {\n  switch (action.type) {\n    case \"sharedFiles/loadData\":\n      return action.payload;\n    default:\n      return sharedFiles;\n  }\n};\n\nexport default sharedFiledReducer;\n","const initialSearch = \"\";\nconst searchReducer = (search = initialSearch, action) => {\n  switch (action.type) {\n    case \"searchReducer/setSearch\":\n      return action.payload;\n    default:\n      return search;\n  }\n};\n\nexport default searchReducer;\n","import { combineReducers } from \"redux\";\n\nimport pageReducer from \"./reducers/pageReducer\";\nimport ownerReducer from \"./reducers/ownerReducer\";\nimport filesReducer from \"./reducers/filesReducer\";\nimport rootFolderReducer from \"./reducers/rootFolderReducer\";\nimport sharedFilesReducer from \"./reducers/sharedFilesReducer\";\nimport searchReducer from \"./reducers/searchReducer\";\n\nconst rootReducer = combineReducers({\n  page: pageReducer,\n  files: filesReducer,\n  owner: ownerReducer,\n  rootFolder: rootFolderReducer,\n  sharedFiles: sharedFilesReducer,\n  search: searchReducer,\n});\n\nexport default rootReducer;\n","/* eslint-disable no-undef */\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createStore, compose, applyMiddleware } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport thunk from \"redux-thunk\";\n\nimport \"./main.scss\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport rootReducer from \"./rootReducer\";\n\nconst store = compose(applyMiddleware(thunk))(createStore)(rootReducer);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}