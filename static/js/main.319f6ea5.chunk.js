(this["webpackJsonpnot-a-google-drive"]=this["webpackJsonpnot-a-google-drive"]||[]).push([[0],{47:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},91:function(e,t,n){"use strict";n.r(t);var c=n(3),a=n.n(c),o=n(15),i=n.n(o),r=n(29),s=n(7),l=n(50),d=(n(47),n(13)),u=(n(73),n(74),n(51)),f=n.n(u),j=n(52),h=n.n(j),p="data:image/png;base64,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",b="owner/loadOwnerSuccess",m="owner/loadOwnerInfoSuccess",v="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjYwY2QwYThkYzI0YmVkNTcyZGExYmRjZSIsImh0dHA6Ly9zY2hlbWFzLnhtbHNvYXAub3JnL3dzLzIwMDUvMDUvaWRlbnRpdHkvY2xhaW1zL25hbWUiOiJreXJ5bG8iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJzdHJpbmciLCJuYmYiOjE2MjQxMTUxNTMsImV4cCI6MTYyNDIwMTU1MywiaXNzIjoiTXlBdXRoU2VydmVyIiwiYXVkIjoiTXlBdXRoQ2xpZW50In0.ySstHMlgGS3kCO0kFElP_Z_CbSwsvxO0qEnf9sSZ6mQ",O=function(){return function(e){e({type:"owner/fetchOwner"});fetch("http://34.105.195.56/User/FilesInfo",{method:"GET",headers:{Authorization:"Bearer ".concat(v)}}).then((function(e){return e.json()})).then((function(t){var n;return e((n=t[0].owner_id,function(e){e({type:"owner/fetchOwnerInfo"}),fetch("http://34.105.195.56/User/UserInfo",{method:"POST",headers:{Authorization:"Bearer ".concat(v),"Content-type":"application/json"},body:JSON.stringify({id:n})}).then((function(e){return e.json()})).then((function(t){return e({type:m,payload:{name:t.FirstName,surname:t.LastName}})})).catch((function(t){return e({type:"owner/loadOwnerInfoFail",payload:t})}))})),e({type:b,payload:t[0].owner_id})})).catch((function(t){return e({type:"owner/loadOwnerFail",payload:t})}))}},y=n(4);function g(e){return e.charAt(0).toUpperCase()+e.slice(1)}var x=function(){var e=Object(s.c)((function(e){return e.owner})),t=Object(s.c)((function(e){return e.search})),n=Object(s.b)();Object(c.useEffect)((function(){Promise.all([n(O())])}),[]);return Object(y.jsxs)("div",{className:"header container",children:[Object(y.jsxs)("div",{className:"header_logo",children:[Object(y.jsx)("img",{src:p,alt:"NotGoogleDrive"}),Object(y.jsx)("span",{children:"NotGoogleDrive"})]}),Object(y.jsx)("div",{className:"header_searchContainer",children:Object(y.jsxs)("div",{className:"header_searchbar",children:[Object(y.jsx)("input",{type:"text",placeholder:"Search in Drive",className:"header__input",value:t,onChange:function(e){e.preventDefault(),n({type:"searchReducer/setSearch",payload:e.target.value})}}),Object(y.jsx)(f.a,{})]})}),Object(y.jsxs)("div",{className:"header_icons",children:[Object(y.jsx)(h.a,{}),e?"Hello, ".concat(g(e.name)," ").concat(g(e.surname)):"Hello!"]})]})},F=(n(77),n(54)),w=n.n(F),N=n(55),C=n.n(N),z=n(56),I=n.n(z),A=n(57),S=n.n(A),E=(n(78),function(e){var t=e.icon,n=e.label,c=e.pageName,a=Object(s.b)(),o=Object(s.c)((function(e){return e.page}));return Object(y.jsx)("button",{type:"button",className:"sidebarItem",onClick:function(e){e.preventDefault(),a({type:"page/setPage",payload:"-".concat(c)})},children:o===c?Object(y.jsxs)("div",{className:"sidebarItem_main selected",children:[t,Object(y.jsxs)("p",{children:[" ",n," "]})]}):Object(y.jsxs)("div",{className:"sidebarItem_main",children:[t,Object(y.jsxs)("p",{children:[" ",n," "]})]})})}),P=(n(79),n(53)),D=n.n(P),M=n(111),H=n(112),Y="files/loadDataSuccess",L=function(){return function(e){e({type:"files/fetchData"});fetch("http://34.105.195.56/User/FilesInfo",{method:"GET",headers:{Authorization:"Bearer ".concat(v)}}).then((function(e){return e.json()})).then((function(t){return e({type:"sharedFiles/loadData",payload:t[0].available_files}),console.log("data",t),e({type:Y,payload:t[0].root_folder})})).catch((function(t){return e({type:"files/loadDataFial",payload:t})}))}};function J(){return{top:"50%",left:"50%",height:"30%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",transform:"translate(-50%, -50%)"}}var B=Object(M.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),U=function(){var e=B(),t=Object(c.useState)(J),n=Object(d.a)(t,1)[0],a=Object(c.useState)(!1),o=Object(d.a)(a,2),i=o[0],r=o[1],l=Object(c.useState)(null),u=Object(d.a)(l,2),f=u[0],j=u[1],h=Object(c.useState)(!1),p=Object(d.a)(h,2),b=p[0],m=p[1],O=Object(c.useState)(!1),g=Object(d.a)(O,2),x=g[0],F=g[1],w=Object(c.useState)(!1),N=Object(d.a)(w,2),C=N[0],z=N[1],I=Object(s.b)(),A=Object(s.c)((function(e){return e.rootFolder}));Object(c.useEffect)((function(){m(!1),F(!1)}),[i]);return Object(y.jsxs)("div",{className:"newFile",children:[Object(y.jsxs)("div",{className:"newFile__container",onClick:function(){r(!0)},children:[Object(y.jsx)(D.a,{}),Object(y.jsx)("p",{children:"New file"})]}),Object(y.jsx)(H.a,{open:i,onClose:function(){r(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(y.jsxs)("div",{style:n,className:e.paper,children:[Object(y.jsx)("p",{style:{marginBottom:"20px"},children:"Select files you want to upload:"}),C?Object(y.jsx)("p",{children:"Uploading..."}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)("input",{type:"file",onChange:function(e){e.target.files[0]&&j(e.target.files[0])},style:{marginBottom:"15px"}}),Object(y.jsxs)("div",{className:"modal__checkbox--contanier",children:[Object(y.jsx)("input",{type:"checkbox",name:"encrypted",onChange:function(e){m(e.target.checked)},className:"modal__checkbox"}),Object(y.jsx)("label",{htmlFor:"encrypted",style:{marginRight:"25px"},children:"Encrypted"}),Object(y.jsx)("input",{type:"checkbox",name:"compressed",onChange:function(e){F(e.target.checked)},className:"modal__checkbox"}),Object(y.jsx)("label",{htmlFor:"compressed",children:"Compressed"})]}),Object(y.jsx)("button",{type:"button",onClick:function(){z(!0);var e=new FormData;console.log(f),e.append("fileUpload",f),e&&fetch("http://34.105.195.56/FileUploader/UploadFile?compressed=".concat(x,"&encrypted=").concat(b,"&favourite=false&folderId=").concat(A.id),{method:"POST",headers:{Authorization:"Bearer ".concat(v)},body:e}).then((function(e){e.json().then((function(e){console.log(e)})),z(!1),r(!1),j(null),I(L())}))},className:"modal__upload",children:"Upload"})]})]})})]})},R=function(){return Object(y.jsxs)("aside",{className:"sidebar",children:[Object(y.jsxs)("div",{className:"sidebar_itemsContainer",children:[Object(y.jsx)(E,{icon:Object(y.jsx)(w.a,{}),label:"Home page",pageName:"home"}),Object(y.jsx)(E,{icon:Object(y.jsx)(C.a,{}),label:"Shared with me",pageName:"shared"}),Object(y.jsx)(E,{icon:Object(y.jsx)(I.a,{}),label:"Favorites",pageName:"favorites"}),Object(y.jsx)(E,{icon:Object(y.jsx)(S.a,{}),label:"Deleted",pageName:"deleted"})]}),Object(y.jsx)(U,{})]})},T=n(36),k=(n(80),function(e){var t=e.item,n=e.handleChange;return Object(y.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),n(t.id)},className:"path__button",children:"".concat(t.name.toUpperCase()," /")})}),V=function(e){var t=e.path,n=e.handleChange;return Object(y.jsx)("div",{className:"path--container",children:Object(y.jsx)("p",{className:"path",children:t.map((function(e){return Object(y.jsx)(k,{item:e,handleChange:n},e.name)}))})})},Q=(n(81),n(25)),X=(n(82),function(e){var t=e.isFolder,n=e.name,c=e.isCompressed,a=n.split("."),o=a[a.length-1];return Object(y.jsx)(y.Fragment,{children:function(){if(c)return Object(y.jsx)(Q.e,{className:"MuiSvgIcon-root icon"});switch(o){case"png":case"jpg":case"gif":return Object(y.jsx)(Q.b,{className:"MuiSvgIcon-root icon"});case"zip":return Object(y.jsx)(Q.e,{className:"MuiSvgIcon-root icon"});case"pdf":return Object(y.jsx)(Q.c,{className:"MuiSvgIcon-root icon"});case"doc":case"docx":case"rtf":case"txt":return Object(y.jsx)(Q.d,{className:"MuiSvgIcon-root icon"});default:return t?Object(y.jsx)(Q.f,{className:"MuiSvgIcon-root icon"}):Object(y.jsx)(Q.a,{className:"MuiSvgIcon-root icon"})}}()})});X.defaultProps={isCompressed:!1};var G=X,W=function(e){var t=e.name,n=e.id;return Object(y.jsxs)("button",{type:"button",className:"fileCard",onClick:function(e){e.preventDefault(),fetch("http://34.105.195.56/FileUploader/DownloadFile?fileId=".concat(n),{method:"GET",headers:{Authorization:"Bearer ".concat(v)}}).then((function(e){e.ok&&e.blob().then((function(e){var t=window.URL.createObjectURL(e);window.location.assign(t)}))}))},children:[Object(y.jsx)("div",{className:"fileCard--top",children:Object(y.jsx)(G,{name:t,isFolder:!1})}),Object(y.jsx)("div",{className:"fileCard--bottom",children:Object(y.jsx)("p",{children:t})})]})};n(83);function K(e,t){if(e.id===t)return e;if(null!=e.children){var n,c=null;for(n=0;null==c&&n<e.children.length;n++)c=K(e.children[n],t);return c}return null}var q=function(){var e,t=Object(s.c)((function(e){return e.page})),n=Object(s.c)((function(e){return e.rootFolder})),a=Object(s.c)((function(e){return e.search})),o=Object(s.c)((function(e){return e.files}));Object(c.useEffect)((function(){}),[n]);var i=function(){if(n&&""===a){var e=K(o,n.id),t=null===e||void 0===e?void 0:e.files;if(t)return t.slice(0,4).map((function(e){var t=e.name,n=e.id;return Object(y.jsx)(W,{name:t,id:n},n)}))}return null};return Object(y.jsx)(y.Fragment,{children:"home"===t&&(null===(e=i())||void 0===e?void 0:e.length)>0&&Object(y.jsx)("div",{className:"fileView_row",children:i()})})},_=(n(84),n(59)),Z=n.n(_),$=n(58),ee=n.n($),te=n(61),ne=n.n(te),ce=n(60),ae=n.n(ce),oe=n(62),ie=function(e,t,n){return function(c){c({type:"files/manageFavorite"});var a="http://34.105.195.56".concat(n?"/Folder/SwitchFavouriteFolder":"/FileUploader/SwitchFavouriteFile");fetch(a,{method:"POST",headers:{Authorization:"Bearer ".concat(v),"Content-type":"application/json"},body:JSON.stringify({id:e,isFavourite:t})}).then((function(){return c(L()),c({type:"files/manageFavoriteSuccess"})})).catch((function(){return c({type:"files/manageFavoriteFail"})}))}},re=function(e,t){return function(n){n({type:"files/deleteFile"});var c="http://34.105.195.56".concat(t?"/Folder/DeleteFolder":"/FileUploader/DeleteFile");fetch(c,{method:"POST",headers:{Authorization:"Bearer ".concat(v),"Content-type":"application/json"},body:JSON.stringify({id:e})}).then((function(){return n(L()),n({type:"files/deleteFileSuccess"})})).catch((function(){return n({type:"files/deleteFileFail"})}))}},se=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],le=function(e){var t=e.id,n=e.caption,c=e.size,a=e.isFavorite,o=e.isFolder,i=e.handleChange,r=e.isEncrypted,l=e.isCompressed,d=e.shared,u=function(e){var t=1e3*parseInt(e.substring(0,8),16);return new Date(t)}(t),f="".concat(u.getDate()," ").concat(se[u.getMonth()+1]," ").concat(u.getFullYear()),j=Object(s.b)(),h=function(e){e.preventDefault(),i(t)},p=function(e){e.preventDefault(),fetch("http://34.105.195.56/FileUploader/DownloadFile?fileId=".concat(t),{method:"GET",headers:{Authorization:"Bearer ".concat(v)}}).then((function(e){e.ok&&e.blob().then((function(e){console.log(e);var t=window.URL.createObjectURL(e);window.location.assign(t)}))}))},b=d?"fileItem__star--disable":"fileItem__star";return Object(y.jsxs)("div",{className:"fileItem",children:[o?Object(y.jsx)("button",{type:"button",className:"fileItem__icon",onClick:h,children:Object(y.jsx)(G,{name:n,isFolder:o,isCompressed:l})}):Object(y.jsx)("button",{type:"button",className:"fileItem__icon",title:"Download file",onClick:p,children:Object(y.jsx)(G,{name:n,isFolder:o,isCompressed:l})}),Object(y.jsx)("button",{type:"button",className:b,onClick:function(e){e.preventDefault(),Promise.all([j(ie(t,!a,o))])},children:a?Object(y.jsx)(ee.a,{className:"fileItem__star--active"}):Object(y.jsx)(Z.a,{className:"fileItem__star--disactive"})}),o?Object(y.jsx)("button",{type:"button",className:"fileItem__name",onClick:h,children:Object(y.jsx)("p",{children:n})}):Object(y.jsx)("button",{type:"button",className:"fileItem__name",title:"Download file",onClick:p,children:Object(y.jsx)("p",{children:n})}),r?Object(y.jsx)(ae.a,{className:"fileItem_encrypted"}):Object(y.jsx)("div",{className:"fileItem_encrypted"}),Object(y.jsx)("p",{className:"fileItem__date",children:f}),Object(y.jsx)("p",{className:"fileItem__size",children:function(e){if("-"===e)return"-";var t=-1;do{e/=1024,t++}while(e>1024);return Math.max(e,.1).toFixed(1)+[" kB"," MB"," GB"," TB","PB","EB","ZB","YB"][t]}(c)}),Object(y.jsx)("button",{type:"button",className:"fileItem__delete fileItem__button",onClick:function(e){e.preventDefault(),Promise.all([j(re(t,o))])},children:Object(y.jsx)(ne.a,{})}),Object(y.jsx)("button",{type:"button",className:"fileItem__share fileItem__button",children:Object(y.jsx)(oe.a,{className:"MuiSvgIcon-root icon"})})]})};le.defaultProps={handleChange:null,isEncrypted:!1,isCompressed:!1,shared:!1};var de=le,ue=(n(85),function(){return Object(y.jsx)("div",{className:"no-files",children:Object(y.jsx)("p",{children:"No files"})})}),fe=function(e){var t=e.route,n=e.setRoute,a=Object(s.c)((function(e){return e.page})),o=Object(s.c)((function(e){return e.files})),i=Object(s.c)((function(e){return e.rootFolder})),r=Object(s.c)((function(e){return e.sharedFiles})),l=Object(s.c)((function(e){return e.search})),u=Object(s.b)(),f=Object(c.useState)([]),j=Object(d.a)(f,2),h=j[0],p=j[1],b=Object(c.useState)([]),m=Object(d.a)(b,2),O=m[0],g=m[1],x=Object(c.useState)([]),F=Object(d.a)(x,2),w=F[0],N=F[1];Object(c.useEffect)((function(){}),[i,r]);var C=function e(t){var n,c;null===t||void 0===t||null===(n=t.files)||void 0===n||n.forEach((function(e){var t=e.name,n=e.id,c=e.favourite,a=e.encrypted,o=e.compressed;t.toLowerCase().includes(l.toLowerCase())&&function(e,t){for(var n=0;n<t.length;n++)if(t[n].id===e)return!1;return!0}(n,h)&&p([].concat(Object(T.a)(h),[{name:t,id:n,isFolder:!1,isEncrypted:a,isFavorite:c,isCompressed:o}]))})),null===t||void 0===t||null===(c=t.children)||void 0===c||c.forEach((function(t){return e(t)}))};Object(c.useEffect)((function(){p(h.filter((function(e){return e.name.toLowerCase().includes(l.toLowerCase())}))),C(o),""===l&&p([])}),[l]),Object(c.useEffect)((function(){"-"===a[0]&&u({type:"page/setPage",payload:a.slice(1)}),n([{name:a,id:""}]),u({type:"rootFolder/setRoot",payload:o})}),[a]),Object(c.useEffect)((function(){if(i){var e=K(o,i.id);u({type:"rootFolder/setRoot",payload:e||o}),fetch("http://34.105.195.56/FileUploader/AllFavouriteFiles",{method:"GET",headers:{Authorization:"Bearer ".concat(v)}}).then((function(e){e.json().then((function(e){g(e)}))})),fetch("http://34.105.195.56/Folder/AllFavouriteFolders",{method:"GET",headers:{Authorization:"Bearer ".concat(v)}}).then((function(e){e.json().then((function(e){N(e)}))}))}}),[o]);var z=function(e){if(""===e)n([{name:a,id:""}]),u({type:"rootFolder/setRoot",payload:o});else{var c=K(o,e);u({type:"rootFolder/setRoot",payload:c});var i=-1;t.forEach((function(e,t){e.id===c.id&&(i=t)})),n(-1===i?[].concat(Object(T.a)(t),[{name:c.name,id:e}]):t.slice(0,i+1))}};return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)("div",{className:"filesView__titles",children:[Object(y.jsx)("p",{children:"Name"}),Object(y.jsx)("p",{className:"filesView__lastmodified",children:"Created at"}),Object(y.jsx)("p",{children:"File size"})]}),"home"===a&&""===l&&function(){if(i){var e=K(o,i.id),t=null===e||void 0===e?void 0:e.files,n=null===e||void 0===e?void 0:e.children;return 0===(null===t||void 0===t?void 0:t.length)&&0===(null===n||void 0===n?void 0:n.length)?ue:null===t||void 0===t?void 0:t.map((function(e){var t=e.id,n=e.name,c=e.size,a=e.favourite,o=e.encrypted,i=e.compressed;return Object(y.jsx)(de,{id:t,caption:n,size:c,isFavorite:a,isEncrypted:o,isCompressed:i,isFolder:!1},t)})).concat(null===n||void 0===n?void 0:n.map((function(e){var t=e.id,n=e.name,c=e.favourite;return Object(y.jsx)(de,{id:t,caption:n,size:"-",isFavorite:c,isFolder:!0,handleChange:z},t)})))}return ue}(),"favorites"===a&&""===l&&function(){if(i){var e,n,c,a=t.length>1?null===i||void 0===i?void 0:i.files:O,r=w;if(t.length>1)r=null===i||void 0===i||null===(c=i.children)||void 0===c?void 0:c.map((function(e){return e.id}));return(null===a||void 0===a?void 0:a.length)>0||(null===(e=r)||void 0===e?void 0:e.length)>0?a.map((function(e){var t=e.id,n=e.name,c=e.size,a=e.favourite,o=e.encrypted,i=e.compressed;return Object(y.jsx)(de,{id:t,caption:n,size:c,isFavorite:a,isEncrypted:o,isCompressed:i,isFolder:!1},t)})).concat(null===(n=r)||void 0===n?void 0:n.map((function(e){var t=K(o,e);return Object(y.jsx)(de,{id:e,caption:t.name,size:"-",isFavorite:t.favourite,isEncrypted:t.encrypted,isCompressed:t.compressed,isFolder:!0,handleChange:z},e)}))):ue}return ue}(),"shared"===a&&""===l&&(i&&(null===r||void 0===r?void 0:r.length)>0?r.map((function(e){var t=e.id,n=e.name,c=e.size,a=e.encrypted,o=e.compressed;return Object(y.jsx)(de,{id:t,caption:n,size:c,isFavorite:!1,isEncrypted:a,isCompressed:o,isFolder:!1,shared:!0},t)})):ue),""!==l&&((null===h||void 0===h?void 0:h.length)>0?h.map((function(e){var t=e.id,n=e.name,c=e.size,a=e.encrypted,o=e.compressed;return Object(y.jsx)(de,{id:t,caption:n,size:c,isFavorite:!1,isEncrypted:a,isCompressed:o,isFolder:!1},t)})):ue)]})};n(86);function je(e,t){if(e.id===t)return e;if(null!=e.children){var n,c=null;for(n=0;null==c&&n<e.children.length;n++)c=je(e.children[n],t);return c}return null}var he=function(){var e=Object(s.c)((function(e){return e.page})),t=Object(s.c)((function(e){return e.files})),n=Object(s.c)((function(e){return e.rootFolder})),a=Object(s.b)(),o=Object(c.useState)([{name:e,id:""}]),i=Object(d.a)(o,2),r=i[0],l=i[1];Object(c.useEffect)((function(){Promise.all([a(L())]),a({type:"rootFolder/setRoot",payload:t})}),[]),Object(c.useEffect)((function(){}),[n]),Object(c.useEffect)((function(){"-"===e[0]&&a({type:"page/setPage",payload:e.slice(1)}),l([{name:e,id:""}]),a({type:"rootFolder/setRoot",payload:t})}),[e]);return Object(y.jsxs)("div",{className:"fileView",children:[Object(y.jsx)(V,{path:r,handleChange:function(n){if(""===n)l([{name:e,id:""}]),a({type:"rootFolder/setRoot",payload:t});else{var c=je(t,n);a({type:"rootFolder/setRoot",payload:c});var o=-1;r.forEach((function(e,t){e.id===c.id&&(o=t)})),l(-1===o?[].concat(Object(T.a)(r),[{name:c.name,id:n}]):r.slice(0,o+1))}}}),Object(y.jsx)(q,{page:e}),Object(y.jsx)(fe,{route:r,setRoute:function(e){return l(e)}})]})},pe=n(37),be=pe.a.initializeApp({apiKey:"AIzaSyCLr1Ext-JreRa7YuKkvZecY9ph2ZqLaSo",authDomain:"notadrive-dfe0e.firebaseapp.com",projectId:"notadrive-dfe0e",storageBucket:"notadrive-dfe0e.appspot.com",messagingSenderId:"325253621998",appId:"1:325253621998:web:af0f3c5c5cf10a4a09abff"}),me=pe.a.auth(),ve=new pe.a.auth.GoogleAuthProvider;pe.a.storage(),be.firestore();var Oe=function(){var e=Object(c.useState)(),t=Object(d.a)(e,2),n=t[0],a=t[1];return Object(y.jsx)("div",{className:"app",children:n?Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(x,{}),Object(y.jsxs)("div",{className:"app_main container",children:[Object(y.jsx)(R,{}),Object(y.jsx)(he,{})]})]}):Object(y.jsxs)("div",{className:"app_login",children:[Object(y.jsx)("img",{src:p,alt:"Google Drive"}),Object(y.jsx)("button",{type:"button",onClick:function(){n?n&&me.signOut().then((function(){a(null)})).catch((function(e){return alert(e.message)})):me.signInWithPopup(ve).then((function(e){a(e.user)})).catch((function(e){alert(e.message)}))},children:"Log in to NotAGoogleDrive"})]})})},ye=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,114)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),o(e),i(e)}))},ge="home",xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"page/setPage":return t.payload?t.payload:e;default:return e}},Fe=n(38),we={id:"",name:"",surname:""},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(Fe.a)(Object(Fe.a)({},e),{},{id:t.payload});case m:return Object(Fe.a)(Object(Fe.a)({},e),{},{name:t.payload.name,surname:t.payload.surname});default:return e}},Ce=[],ze=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return t.payload;default:return e}},Ie=[],Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"rootFolder/setRoot":return t.payload;default:return e}},Se=[],Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"sharedFiles/loadData":return t.payload;default:return e}},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"searchReducer/setSearch":return t.payload;default:return e}},De=Object(r.b)({page:xe,files:ze,owner:Ne,rootFolder:Ae,sharedFiles:Ee,search:Pe}),Me=Object(r.c)(Object(r.a)(l.a))(r.d)(De);i.a.render(Object(y.jsx)(a.a.StrictMode,{children:Object(y.jsx)(s.a,{store:Me,children:Object(y.jsx)(Oe,{})})}),document.getElementById("root")),ye()}},[[91,1,2]]]);
//# sourceMappingURL=main.319f6ea5.chunk.js.map